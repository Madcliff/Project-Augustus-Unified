#Genetics: Inbreeding System
namespace = GIS

#Initial checking event
character_event = {
	id = GIS.1
	desc = "GIS_EVENT"
	#is_triggered_only = yes ##Works best if triggered on_birth (prevents loss of lunatic/inbred in historical characters)
	hide_window = yes #Fire in the background

	trigger = {
		is_adult = no 
		NOT = { has_character_flag = inb_genealogy_check }
	}

	mean_time_to_happen = { days = 1 }

	immediate = { #Set base homozygosity.
		remove_trait = inbred
		remove_trait = lunatic
		#Base homozygosity
		mother = {
			ROOT = { change_variable = { which = homozygosity which = PREV } }
		}
		if = {
			limit = {
				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
			}
			father = {
				ROOT = { change_variable = { which = homozygosity which = PREV } }
			}
		}
		if = {
			limit = {
				real_father = { OR = { is_alive = yes is_alive = no } }
			}
			real_father = {
				ROOT = { change_variable = { which = homozygosity which = PREV } }
			}
		}
		divide_variable = { which = homozygosity value = 2 }
		#Check matching grandparents
		#Paternal Grandfather
		if = {
			limit = {
				OR = {
					AND = {
						NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
						father = {
							OR = { #Father
								AND = {
									NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
									father = {
										OR = { #Grandfather
											AND = {
												NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
												father = {
													ROOT = {
														mother = {
															OR = { #Father or Mother
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		OR = { #Grandfather
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREVPREV #Does this work?
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } } 
																				real_father = {
																					character = PREVPREVPREVPREV
																				}
																			}
																		}
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		OR = { #Grandfather
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREVPREV #Does this work?
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } } 
																				real_father = {
																					character = PREVPREVPREVPREV
																				}
																			}
																		}
																	}
																}
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
											AND = {
												real_father = { OR = { is_alive = yes is_alive = no } }
												real_father = {
													ROOT = {
														mother = {
															OR = { #Father
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		OR = { #Grandfather
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREVPREV #Does this work?
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } } 
																				real_father = {
																					character = PREVPREVPREVPREV
																				}
																			}
																		}
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		OR = { #Grandfather
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREVPREV #Does this work?
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } } 
																				real_father = {
																					character = PREVPREVPREVPREV
																				}
																			}
																		}
																	}
																}
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
								AND = {
									real_father = { OR = { is_alive = yes is_alive = no } }
									real_father = {
										OR = { #Grandfather
											AND = {
												NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
												father = {
													ROOT = {
														mother = {
															OR = { #Father
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		OR = { #Grandfather
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREVPREV #Does this work?
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } } 
																				real_father = {
																					character = PREVPREVPREVPREV
																				}
																			}
																		}
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		OR = { #Grandfather
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREVPREV #Does this work?
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } } 
																				real_father = {
																					character = PREVPREVPREVPREV
																				}
																			}
																		}
																	}
																}
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
											AND = {
												real_father = { OR = { is_alive = yes is_alive = no } }
												real_father = {
													ROOT = {
														mother = {
															OR = { #Father
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		OR = { #Grandfather
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREVPREV #Does this work?
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } } 
																				real_father = {
																					character = PREVPREVPREVPREV
																				}
																			}
																		}
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		OR = { #Grandfather
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREVPREV #Does this work?
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } } 
																				real_father = {
																					character = PREVPREVPREVPREV
																				}
																			}
																		}
																	}
																}
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
					AND = {
						real_father = { OR = { is_alive = yes is_alive = no } }
						real_father = {
							OR = { #Father
								AND = {
									NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
									father = {
										OR = { #Grandfather
											AND = {
												NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
												father = {
													ROOT = {
														mother = {
															OR = { #Father
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		OR = { #Grandfather
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREVPREV #Does this work?
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } } 
																				real_father = {
																					character = PREVPREVPREVPREV
																				}
																			}
																		}
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		OR = { #Grandfather
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREVPREV #Does this work?
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } } 
																				real_father = {
																					character = PREVPREVPREVPREV
																				}
																			}
																		}
																	}
																}
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
											AND = {
												real_father = { OR = { is_alive = yes is_alive = no } }
												real_father = {
													ROOT = {
														mother = {
															OR = { #Father
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		OR = { #Grandfather
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREVPREV #Does this work?
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } } 
																				real_father = {
																					character = PREVPREVPREVPREV
																				}
																			}
																		}
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		OR = { #Grandfather
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREVPREV #Does this work?
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } } 
																				real_father = {
																					character = PREVPREVPREVPREV
																				}
																			}
																		}
																	}
																}
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
								AND = {
									real_father = { OR = { is_alive = yes is_alive = no } }
									real_father = {
										OR = { #Grandfather
											AND = {
												NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
												father = {
													ROOT = {
														mother = {
															OR = { #Father
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		OR = { #Grandfather
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREVPREV #Does this work?
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } } 
																				real_father = {
																					character = PREVPREVPREVPREV
																				}
																			}
																		}
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		OR = { #Grandfather
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREVPREV #Does this work?
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } } 
																				real_father = {
																					character = PREVPREVPREVPREV
																				}
																			}
																		}
																	}
																}
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
											AND = {
												real_father = { OR = { is_alive = yes is_alive = no } }
												real_father = {
													ROOT = {
														mother = {
															OR = { #Father
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		OR = { #Grandfather
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREVPREV #Does this work?
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } } 
																				real_father = {
																					character = PREVPREVPREVPREV
																				}
																			}
																		}
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		OR = { #Grandfather
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREVPREV #Does this work?
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } } 
																				real_father = {
																					character = PREVPREVPREVPREV
																				}
																			}
																		}
																	}
																}
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			change_variable = { which = parental_grandparents_shared value = 1 }
		}
		#Paternal Grandmother
		if = {
			limit = {
				OR = {
					AND = {
						NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
						father = {
							OR = { #Father
								AND = {
									NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
									father = {
										mother = { #Grandmother
											ROOT = {
												mother = {
													OR = {
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = {
																mother = {
																	character = PREVPREVPREVPREV
																}
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = {
																mother = {
																	character = PREVPREVPREVPREV
																}
															}
														}
														mother = {
															mother = {
																character = PREVPREVPREVPREV
															}
														}
													}
												}
											}
										}
									}
								}
								AND = {
									real_father = { OR = { is_alive = yes is_alive = no } }
									real_father = {
										mother = { #Grandmother
											ROOT = {
												mother = {
													OR = {
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = {
																mother = {
																	character = PREVPREVPREVPREV
																}
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = {
																mother = {
																	character = PREVPREVPREVPREV
																}
															}
														}
														mother = {
															mother = {
																character = PREVPREVPREVPREV
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
					AND = {
						real_father = { OR = { is_alive = yes is_alive = no } }
						real_father = {
							OR = { #Father
								AND = {
									NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
									father = {
										mother = { #Grandmother
											ROOT = {
												mother = {
													OR = {
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = {
																mother = {
																	character = PREVPREVPREVPREV
																}
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = {
																mother = {
																	character = PREVPREVPREVPREV
																}
															}
														}
														mother = {
															mother = {
																character = PREVPREVPREVPREV
															}
														}
													}
												}
											}
										}
									}
								}
								AND = {
									real_father = { OR = { is_alive = yes is_alive = no } }
									real_father = {
										mother = { #Grandmother
											ROOT = {
												mother = {
													OR = {
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = {
																mother = {
																	character = PREVPREVPREVPREV
																}
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = {
																mother = {
																	character = PREVPREVPREVPREV
																}
															}
														}
														mother = {
															mother = {
																character = PREVPREVPREVPREV
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			change_variable = { which = parental_grandparents_shared value = 1 }
		}
		#Maternal Grandfather
		if = {
			limit = {
				OR = {
					AND = {
						NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
						father = {
							mother = { #mother
								OR = { #grandfather 
									AND = {
										NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
										father = {
											ROOT = {
												mother = {
													OR = {
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = {
																OR = { #Grandfather
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREVPREV #Does this work?
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } } 
																		real_father = {
																			character = PREVPREVPREVPREV
																		}
																	}
																}
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = {
																OR = { #Grandfather
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREVPREV #Does this work?
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } } 
																		real_father = {
																			character = PREVPREVPREVPREV
																		}
																	}
																}
															}
														}
														mother = {
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREVPREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
										}
									}
									AND = {
										real_father = { OR = { is_alive = yes is_alive = no } }
										real_father = {
											ROOT = {
												mother = {
													OR = {
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = {
																OR = { #Grandfather
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREVPREV #Does this work?
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } } 
																		real_father = {
																			character = PREVPREVPREVPREV
																		}
																	}
																}
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = {
																OR = { #Grandfather
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREVPREV #Does this work?
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } } 
																		real_father = {
																			character = PREVPREVPREVPREV
																		}
																	}
																}
															}
														}
														mother = {
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREVPREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
					AND = {
						real_father = { OR = { is_alive = yes is_alive = no } }
						real_father = {
							mother = { #mother
								OR = { #grandfather 
									AND = {
										NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
										father = {
											ROOT = {
												mother = {
													OR = {
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = {
																OR = { #Grandfather
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREVPREV #Does this work?
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } } 
																		real_father = {
																			character = PREVPREVPREVPREV
																		}
																	}
																}
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = {
																OR = { #Grandfather
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREVPREV #Does this work?
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } } 
																		real_father = {
																			character = PREVPREVPREVPREV
																		}
																	}
																}
															}
														}
														mother = {
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREVPREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
										}
									}
									AND = {
										real_father = { OR = { is_alive = yes is_alive = no } }
										real_father = {
											ROOT = {
												mother = {
													OR = {
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = {
																OR = { #Grandfather
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREVPREV #Does this work?
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } } 
																		real_father = {
																			character = PREVPREVPREVPREV
																		}
																	}
																}
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = {
																OR = { #Grandfather
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREVPREV #Does this work?
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } } 
																		real_father = {
																			character = PREVPREVPREVPREV
																		}
																	}
																}
															}
														}
														mother = {
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREVPREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			change_variable = { which = parental_grandparents_shared value = 1 }
		}
		#Maternal Grandmother
		if = {
			limit = {
				OR = {
					AND = {
						NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
						father = {
							mother = { #Mother
								mother = { #Grandmother
									ROOT = {
										mother = {
											OR = {
												AND = {
													NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
													father = {
														mother = { character = PREVPREVPREVPREV }
													}
												}
												AND = {
													real_father = { OR = { is_alive = yes is_alive = no } }
													real_father = {
														mother = { character = PREVPREVPREVPREV }
													}
												}
												mother = {
													mother = {
														character = PREVPREVPREVPREV
													}
												}
											}
										}
									}
								}
							}
						}
					}
					AND = {
						real_father = { OR = { is_alive = yes is_alive = no } }
						real_father = {
							mother = { #Mother
								mother = { #Grandmother
									ROOT = {
										mother = {
											OR = {
												AND = {
													NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
													father = {
														mother = { character = PREVPREVPREVPREV }
													}
												}
												AND = {
													real_father = { OR = { is_alive = yes is_alive = no } }
													real_father = {
														mother = { character = PREVPREVPREVPREV }
													}
												}
												mother = {
													mother = {
														character = PREVPREVPREVPREV
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			change_variable = { which = parental_grandparents_shared value = 1 }	
		}
		#Great-grandparent/child?
		if = { #Ignore great-grandmother case as it's not possible unless playing a fantasy mod.
			limit = {
				mother = {
					OR = { #parent
						AND = {
							NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
							father = { 
								OR = { #grandparent
									AND = { 
										NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
										father = {
											OR = { #great-grandfather
												AND = {
													NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
													father = {
														ROOT = {
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREV
																	}
																}
															}
														}
													}
												}
												AND = {
													real_father = { OR = { is_alive = yes is_alive = no } }
													real_father = {
														ROOT = {
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREV
																	}
																}
															}
														}
													}
												}
											}
										}
									}
									AND = { 
										real_father = { OR = { is_alive = yes is_alive = no } }
										real_father = {
											OR = { #great-grandfather
												AND = {
													NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
													father = {
														ROOT = {
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREV
																	}
																}
															}
														}
													}
												}
												AND = {
													real_father = { OR = { is_alive = yes is_alive = no } }
													real_father = {
														ROOT = {
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREV
																	}
																}
															}
														}
													}
												}
											}
										}
									}
									mother = {
										OR = { #great-grandfather
											AND = {
												NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
												father = {
													ROOT = {
														OR = {
															AND = {
																NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																father = {
																	character = PREVPREV
																}
															}
															AND = {
																real_father = { OR = { is_alive = yes is_alive = no } }
																real_father = {
																	character = PREVPREV
																}
															}
														}
													}
												}
											}
											AND = {
												real_father = { OR = { is_alive = yes is_alive = no } }
												real_father = {
													ROOT = {
														OR = {
															AND = {
																NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																father = {
																	character = PREVPREV
																}
															}
															AND = {
																real_father = { OR = { is_alive = yes is_alive = no } }
																real_father = {
																	character = PREVPREV
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
						AND = {
							real_father = { OR = { is_alive = yes is_alive = no } }
							real_father = { 
								OR = { #grandparent
									AND = { 
										NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
										father = {
											OR = { #great-grandfather
												AND = {
													NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
													father = {
														ROOT = {
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREV
																	}
																}
															}
														}
													}
												}
												AND = {
													real_father = { OR = { is_alive = yes is_alive = no } }
													real_father = {
														ROOT = {
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREV
																	}
																}
															}
														}
													}
												}
											}
										}
									}
									AND = { 
										real_father = { OR = { is_alive = yes is_alive = no } }
										real_father = {
											OR = { #great-grandfather
												AND = {
													NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
													father = {
														ROOT = {
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREV
																	}
																}
															}
														}
													}
												}
												AND = {
													real_father = { OR = { is_alive = yes is_alive = no } }
													real_father = {
														ROOT = {
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREV
																	}
																}
															}
														}
													}
												}
											}
										}
									}
									mother = {
										OR = { #great-grandfather
											AND = {
												NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
												father = {
													ROOT = {
														OR = {
															AND = {
																NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																father = {
																	character = PREVPREV
																}
															}
															AND = {
																real_father = { OR = { is_alive = yes is_alive = no } }
																real_father = {
																	character = PREVPREV
																}
															}
														}
													}
												}
											}
											AND = {
												real_father = { OR = { is_alive = yes is_alive = no } }
												real_father = {
													ROOT = {
														OR = {
															AND = {
																NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																father = {
																	character = PREVPREV
																}
															}
															AND = {
																real_father = { OR = { is_alive = yes is_alive = no } }
																real_father = {
																	character = PREVPREV
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
						mother = {
							OR = { #grandparent
								AND = { 
									NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
									father = {
										OR = { #great-grandfather
											AND = {
												NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
												father = {
													ROOT = {
														OR = {
															AND = {
																NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																father = {
																	character = PREVPREV
																}
															}
															AND = {
																real_father = { OR = { is_alive = yes is_alive = no } }
																real_father = {
																	character = PREVPREV
																}
															}
														}
													}
												}
											}
											AND = {
												real_father = { OR = { is_alive = yes is_alive = no } }
												real_father = {
													ROOT = {
														OR = {
															AND = {
																NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																father = {
																	character = PREVPREV
																}
															}
															AND = {
																real_father = { OR = { is_alive = yes is_alive = no } }
																real_father = {
																	character = PREVPREV
																}
															}
														}
													}
												}
											}
										}
									}
								}
								AND = { 
									real_father = { OR = { is_alive = yes is_alive = no } }
									real_father = {
										OR = { #great-grandfather
											AND = {
												NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
												father = {
													ROOT = {
														OR = {
															AND = {
																NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																father = {
																	character = PREVPREV
																}
															}
															AND = {
																real_father = { OR = { is_alive = yes is_alive = no } }
																real_father = {
																	character = PREVPREV
																}
															}
														}
													}
												}
											}
											AND = {
												real_father = { OR = { is_alive = yes is_alive = no } }
												real_father = {
													ROOT = {
														OR = {
															AND = {
																NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																father = {
																	character = PREVPREV
																}
															}
															AND = {
																real_father = { OR = { is_alive = yes is_alive = no } }
																real_father = {
																	character = PREVPREV
																}
															}
														}
													}
												}
											}
										}
									}
								}
								mother = {
									OR = { #great-grandfather
										AND = {
											NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
											father = {
												ROOT = {
													OR = {
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = {
																character = PREVPREV
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = {
																character = PREVPREV
															}
														}
													}
												}
											}
										}
										AND = {
											real_father = { OR = { is_alive = yes is_alive = no } }
											real_father = {
												ROOT = {
													OR = {
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = {
																character = PREVPREV
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = {
																character = PREVPREV
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			set_character_flag = parents_are_greatgrandparent_child
		}
		#Grandparent-child? Ignore grandmother case as it's impossible in vanilla and unlikely anywhere other than fantasy mods. Support could come later.
		if = { 
			limit = {
				mother = {
					#parent
					OR = {
						AND = {
							NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
							father = {
								OR = { #grandfather
									AND = {
										NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
										father = {
											ROOT = {
												OR = {
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = {
															character = PREVPREV
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = {
															character = PREVPREV
														}
													}
												}
											}
										}
									}
									AND = {
										real_father = { OR = { is_alive = yes is_alive = no } }
										real_father = {
											ROOT = {
												OR = {
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = {
															character = PREVPREV
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = {
															character = PREVPREV
														}
													}
												}
											}
										}
									}
								}
							}
						}
						AND = {
							real_father = { OR = { is_alive = yes is_alive = no } } 
							real_father = {
								OR = { #grandfather
									AND = {
										NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
										father = {
											ROOT = {
												OR = {
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = {
															character = PREVPREV
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = {
															character = PREVPREV
														}
													}
												}
											}
										}
									}
									AND = {
										real_father = { OR = { is_alive = yes is_alive = no } }
										real_father = {
											ROOT = {
												OR = {
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = {
															character = PREVPREV
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = {
															character = PREVPREV
														}
													}
												}
											}
										}
									}
								}
							}
						}
						mother = {
							OR = { #grandfather
								AND = {
									NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
									father = {
										ROOT = {
											OR = {
												AND = {
													NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
													father = {
														character = PREVPREV
													}
												}
												AND = {
													real_father = { OR = { is_alive = yes is_alive = no } }
													real_father = {
														character = PREVPREV
													}
												}
											}
										}
									}
								}
								AND = {
									real_father = { OR = { is_alive = yes is_alive = no } }
									real_father = {
										ROOT = {
											OR = {
												AND = {
													NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
													father = {
														character = PREVPREV
													}
												}
												AND = {
													real_father = { OR = { is_alive = yes is_alive = no } }
													real_father = {
														character = PREVPREV
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			set_character_flag = parents_are_grandparent_child
		}
		#Avuncular check 1: Is father of higher gen parent same as the grandfather of lower gen?
		if = {
			limit = {
				OR = {
					AND = {
						NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
						father = {
							#parent
							OR = {
								AND = {
									NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
									father = {
										OR = { #Grandfather
											AND = {
												NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
												father = {
													ROOT = {
														mother = { 
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
											AND = {
												real_father = { OR = { is_alive = yes is_alive = no } } 
												real_father = {
													ROOT = {
														mother = { 
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
								AND = {
									real_father = { OR = { is_alive = yes is_alive = no } } 
									real_father = {
										OR = { #Grandfather
											AND = {
												NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
												father = {
													ROOT = {
														mother = { 
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
											AND = {
												real_father = { OR = { is_alive = yes is_alive = no } } 
												real_father = {
													ROOT = {
														mother = { 
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
								mother = {
									OR = { #Grandfather
										AND = {
											NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
											father = {
												ROOT = {
													mother = { 
														OR = {
															AND = {
																NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																father = {
																	character = PREVPREVPREV
																}
															}
															AND = {
																real_father = { OR = { is_alive = yes is_alive = no } }
																real_father = {
																	character = PREVPREVPREV
																}
															}
														}
													}
												}
											}
										}
										AND = {
											real_father = { OR = { is_alive = yes is_alive = no } } 
											real_father = {
												ROOT = {
													mother = { 
														OR = {
															AND = {
																NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																father = {
																	character = PREVPREVPREV
																}
															}
															AND = {
																real_father = { OR = { is_alive = yes is_alive = no } }
																real_father = {
																	character = PREVPREVPREV
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
					AND = {
						real_father = { OR = { is_alive = yes is_alive = no } } 
						real_father = {
							#parent
							OR = {
								AND = {
									NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
									father = {
										OR = { #Grandfather
											AND = {
												NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
												father = {
													ROOT = {
														mother = { 
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
											AND = {
												real_father = { OR = { is_alive = yes is_alive = no } } 
												real_father = {
													ROOT = {
														mother = { 
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
								AND = {
									real_father = { OR = { is_alive = yes is_alive = no } } 
									real_father = {
										OR = { #Grandfather
											AND = {
												NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
												father = {
													ROOT = {
														mother = { 
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
											AND = {
												real_father = { OR = { is_alive = yes is_alive = no } } 
												real_father = {
													ROOT = {
														mother = { 
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
								mother = {
									OR = { #Grandfather
										AND = {
											NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
											father = {
												ROOT = {
													mother = { 
														OR = {
															AND = {
																NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																father = {
																	character = PREVPREVPREV
																}
															}
															AND = {
																real_father = { OR = { is_alive = yes is_alive = no } }
																real_father = {
																	character = PREVPREVPREV
																}
															}
														}
													}
												}
											}
										}
										AND = {
											real_father = { OR = { is_alive = yes is_alive = no } } 
											real_father = {
												ROOT = {
													mother = { 
														OR = {
															AND = {
																NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																father = {
																	character = PREVPREVPREV
																}
															}
															AND = {
																real_father = { OR = { is_alive = yes is_alive = no } }
																real_father = {
																	character = PREVPREVPREV
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
					mother = {
						#parent
						OR = {
							AND = {
								NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
								father = {
									OR = { #Grandfather
										AND = {
											NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
											father = {
												ROOT = {
													OR = {
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = { 
																OR = {
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREV
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } }
																		real_father = {
																			character = PREVPREVPREV
																		}
																	}
																}
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = { 
																OR = {
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREV
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } }
																		real_father = {
																			character = PREVPREVPREV
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
										AND = {
											real_father = { OR = { is_alive = yes is_alive = no } } 
											real_father = {
												ROOT = {
													OR = {
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = { 
																OR = {
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREV
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } }
																		real_father = {
																			character = PREVPREVPREV
																		}
																	}
																}
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = { 
																OR = {
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREV
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } }
																		real_father = {
																			character = PREVPREVPREV
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
							AND = {
								real_father = { OR = { is_alive = yes is_alive = no } } 
								real_father = {
									OR = { #Grandfather
										AND = {
											NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
											father = {
												ROOT = {
													OR = {
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = { 
																OR = {
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREV
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } }
																		real_father = {
																			character = PREVPREVPREV
																		}
																	}
																}
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = { 
																OR = {
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREV
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } }
																		real_father = {
																			character = PREVPREVPREV
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
										AND = {
											real_father = { OR = { is_alive = yes is_alive = no } } 
											real_father = {
												ROOT = {
													OR = {
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = { 
																OR = {
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREV
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } }
																		real_father = {
																			character = PREVPREVPREV
																		}
																	}
																}
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = { 
																OR = {
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREV
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } }
																		real_father = {
																			character = PREVPREVPREV
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
							mother = {
								OR = { #Grandfather
									AND = {
										NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
										father = {
											ROOT = {
												OR = {
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = { 
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = { 
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
										}
									}
									AND = {
										real_father = { OR = { is_alive = yes is_alive = no } } 
										real_father = {
											ROOT = {
												OR = {
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = { 
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = { 
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			change_variable = { which = avuncular_check value = 1 }
		}
		#Avuncular check 2: Is mother of higher gen parent same as the grandmother of lower gen?
		if = {
			limit = {
				OR = {
					AND = {
						NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
						father = {
							OR = { #parent
								AND = {
									NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
									father = {
										mother = { #grandmother
											ROOT = {
												mother = {
													mother = {
														character = PREVPREVPREV
													}
												}
											}
										}
									}
								}
								AND = {
									real_father = { OR = { is_alive = yes is_alive = no } }
									real_father = {
										mother = { #grandmother
											ROOT = {
												mother = {
													mother = {
														character = PREVPREVPREV
													}
												}
											}
										}
									}
								}
								mother = {
									mother = { #grandmother
										ROOT = {
											mother = {
												mother = {
													character = PREVPREVPREV
												}
											}
										}
									}
								}
							}
						}
					}
					AND = {
						real_father = { OR = { is_alive = yes is_alive = no } }
						real_father = {
							OR = { #parent
								AND = {
									NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
									father = {
										mother = { #grandmother
											ROOT = {
												mother = {
													mother = {
														character = PREVPREVPREV
													}
												}
											}
										}
									}
								}
								AND = {
									real_father = { OR = { is_alive = yes is_alive = no } }
									real_father = {
										mother = { #grandmother
											ROOT = {
												mother = {
													mother = {
														character = PREVPREVPREV
													}
												}
											}
										}
									}
								}
								mother = {
									mother = { #grandmother
										ROOT = {
											mother = {
												mother = {
													character = PREVPREVPREV
												}
											}
										}
									}
								}
							}
						}
					}
					mother = {
						OR = { #parent
							AND = {
								NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
								father = {
									mother = { #grandmother
										ROOT = {
											OR = {
												AND = {
													NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
													father = {
														mother = {
															character = PREVPREVPREV
														}
													}
												}
												AND = {
													real_father = { OR = { is_alive = yes is_alive = no } }
													real_father = {
														mother = {
															character = PREVPREVPREV
														}
													}
												}
											}
										}
									}
								}
							}
							AND = {
								real_father = { OR = { is_alive = yes is_alive = no } }
								real_father = {
									mother = { #grandmother
										ROOT = {
											OR = {
												AND = {
													NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
													father = {
														mother = {
															character = PREVPREVPREV
														}
													}
												}
												AND = {
													real_father = { OR = { is_alive = yes is_alive = no } }
													real_father = {
														mother = {
															character = PREVPREVPREV
														}
													}
												}
											}
										}
									}
								}
							}
							mother = {
								mother = { #grandmother
									ROOT = {
										OR = {
											AND = {
												NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
												father = {
													mother = {
														character = PREVPREVPREV
													}
												}
											}
											AND = {
												real_father = { OR = { is_alive = yes is_alive = no } }
												real_father = {
													mother = {
														character = PREVPREVPREV
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			change_variable = { which = avuncular_check value = 1 }
		}
		#Great-avuncular check: Currently doesn't check for fractional checks...
		if = {
			limit = {
				OR = {
					AND = {
						NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
						father = {
							OR = { #Parents
								AND = {
									NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
									father = {
										OR = { #Grandparents
											AND = {
												NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
												father = {
													OR = { #Great-Grandparents
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = {
																ROOT = {
																	mother = {
																		OR = {
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREV
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } }
																				real_father = {
																					character = PREVPREVPREV
																				}
																			}
																		}
																	}
																}
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = {
																ROOT = {
																	mother = {
																		OR = {
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREV
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } }
																				real_father = {
																					character = PREVPREVPREV
																				}
																			}
																		}
																	}
																}
															}
														}
														mother = {
															ROOT = {
																mother = {
																	mother = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
											AND = {
												real_father = { OR = { is_alive = yes is_alive = no } }
												real_father = {
													OR = { #Great-Grandparents
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = {
																ROOT = {
																	mother = {
																		OR = {
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREV
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } }
																				real_father = {
																					character = PREVPREVPREV
																				}
																			}
																		}
																	}
																}
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = {
																ROOT = {
																	mother = {
																		OR = {
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREV
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } }
																				real_father = {
																					character = PREVPREVPREV
																				}
																			}
																		}
																	}
																}
															}
														}
														mother = {
															ROOT = {
																mother = {
																	mother = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
											mother = {
												OR = { #Great-Grandparents
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													mother = {
														ROOT = {
															mother = {
																mother = {
																	character = PREVPREVPREV
																}
															}
														}
													}
												}
											}
										}
									}
								}
								AND = {
									real_father = { OR = { is_alive = yes is_alive = no } }
									real_father = {
										OR = { #Grandparents
											AND = {
												NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
												father = {
													OR = { #Great-Grandparents
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = {
																ROOT = {
																	mother = {
																		OR = {
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREV
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } }
																				real_father = {
																					character = PREVPREVPREV
																				}
																			}
																		}
																	}
																}
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = {
																ROOT = {
																	mother = {
																		OR = {
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREV
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } }
																				real_father = {
																					character = PREVPREVPREV
																				}
																			}
																		}
																	}
																}
															}
														}
														mother = {
															ROOT = {
																mother = {
																	mother = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
											AND = {
												real_father = { OR = { is_alive = yes is_alive = no } }
												real_father = {
													OR = { #Great-Grandparents
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = {
																ROOT = {
																	mother = {
																		OR = {
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREV
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } }
																				real_father = {
																					character = PREVPREVPREV
																				}
																			}
																		}
																	}
																}
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = {
																ROOT = {
																	mother = {
																		OR = {
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREV
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } }
																				real_father = {
																					character = PREVPREVPREV
																				}
																			}
																		}
																	}
																}
															}
														}
														mother = {
															ROOT = {
																mother = {
																	mother = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
											mother = {
												OR = { #Great-Grandparents
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													mother = {
														ROOT = {
															mother = {
																mother = {
																	character = PREVPREVPREV
																}
															}
														}
													}
												}
											}
										}
									}
								}
								mother = {
									OR = { #Grandparents
										AND = {
											NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
											father = {
												OR = { #Great-Grandparents
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													mother = {
														ROOT = {
															mother = {
																mother = {
																	character = PREVPREVPREV
																}
															}
														}
													}
												}
											}
										}
										AND = {
											real_father = { OR = { is_alive = yes is_alive = no } }
											real_father = {
												OR = { #Great-Grandparents
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													mother = {
														ROOT = {
															mother = {
																mother = {
																	character = PREVPREVPREV
																}
															}
														}
													}
												}
											}
										}
										mother = {
											OR = { #Great-Grandparents
												AND = {
													NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
													father = {
														ROOT = {
															mother = {
																OR = {
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREV
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } }
																		real_father = {
																			character = PREVPREVPREV
																		}
																	}
																}
															}
														}
													}
												}
												AND = {
													real_father = { OR = { is_alive = yes is_alive = no } }
													real_father = {
														ROOT = {
															mother = {
																OR = {
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREV
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } }
																		real_father = {
																			character = PREVPREVPREV
																		}
																	}
																}
															}
														}
													}
												}
												mother = {
													ROOT = {
														mother = {
															mother = {
																character = PREVPREVPREV
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
					AND = {
						real_father = { OR = { is_alive = yes is_alive = no } }
						real_father = {
							OR = { #Parents
								AND = {
									NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
									father = {
										OR = { #Grandparents
											AND = {
												NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
												father = {
													OR = { #Great-Grandparents
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = {
																ROOT = {
																	mother = {
																		OR = {
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREV
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } }
																				real_father = {
																					character = PREVPREVPREV
																				}
																			}
																		}
																	}
																}
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = {
																ROOT = {
																	mother = {
																		OR = {
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREV
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } }
																				real_father = {
																					character = PREVPREVPREV
																				}
																			}
																		}
																	}
																}
															}
														}
														mother = {
															ROOT = {
																mother = {
																	mother = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
											AND = {
												real_father = { OR = { is_alive = yes is_alive = no } }
												real_father = {
													OR = { #Great-Grandparents
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = {
																ROOT = {
																	mother = {
																		OR = {
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREV
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } }
																				real_father = {
																					character = PREVPREVPREV
																				}
																			}
																		}
																	}
																}
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = {
																ROOT = {
																	mother = {
																		OR = {
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREV
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } }
																				real_father = {
																					character = PREVPREVPREV
																				}
																			}
																		}
																	}
																}
															}
														}
														mother = {
															ROOT = {
																mother = {
																	mother = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
											mother = {
												OR = { #Great-Grandparents
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													mother = {
														ROOT = {
															mother = {
																mother = {
																	character = PREVPREVPREV
																}
															}
														}
													}
												}
											}
										}
									}
								}
								AND = {
									real_father = { OR = { is_alive = yes is_alive = no } }
									real_father = {
										OR = { #Grandparents
											AND = {
												NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
												father = {
													OR = { #Great-Grandparents
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = {
																ROOT = {
																	mother = {
																		OR = {
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREV
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } }
																				real_father = {
																					character = PREVPREVPREV
																				}
																			}
																		}
																	}
																}
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = {
																ROOT = {
																	mother = {
																		OR = {
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREV
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } }
																				real_father = {
																					character = PREVPREVPREV
																				}
																			}
																		}
																	}
																}
															}
														}
														mother = {
															ROOT = {
																mother = {
																	mother = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
											AND = {
												real_father = { OR = { is_alive = yes is_alive = no } }
												real_father = {
													OR = { #Great-Grandparents
														AND = {
															NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
															father = {
																ROOT = {
																	mother = {
																		OR = {
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREV
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } }
																				real_father = {
																					character = PREVPREVPREV
																				}
																			}
																		}
																	}
																}
															}
														}
														AND = {
															real_father = { OR = { is_alive = yes is_alive = no } }
															real_father = {
																ROOT = {
																	mother = {
																		OR = {
																			AND = {
																				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																				father = {
																					character = PREVPREVPREV
																				}
																			}
																			AND = {
																				real_father = { OR = { is_alive = yes is_alive = no } }
																				real_father = {
																					character = PREVPREVPREV
																				}
																			}
																		}
																	}
																}
															}
														}
														mother = {
															ROOT = {
																mother = {
																	mother = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
											mother = {
												OR = { #Great-Grandparents
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													mother = {
														ROOT = {
															mother = {
																mother = {
																	character = PREVPREVPREV
																}
															}
														}
													}
												}
											}
										}
									}
								}
								mother = {
									OR = { #Grandparents
										AND = {
											NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
											father = {
												OR = { #Great-Grandparents
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													mother = {
														ROOT = {
															mother = {
																mother = {
																	character = PREVPREVPREV
																}
															}
														}
													}
												}
											}
										}
										AND = {
											real_father = { OR = { is_alive = yes is_alive = no } }
											real_father = {
												OR = { #Great-Grandparents
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													mother = {
														ROOT = {
															mother = {
																mother = {
																	character = PREVPREVPREV
																}
															}
														}
													}
												}
											}
										}
										mother = {
											OR = { #Great-Grandparents
												AND = {
													NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
													father = {
														ROOT = {
															mother = {
																OR = {
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREV
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } }
																		real_father = {
																			character = PREVPREVPREV
																		}
																	}
																}
															}
														}
													}
												}
												AND = {
													real_father = { OR = { is_alive = yes is_alive = no } }
													real_father = {
														ROOT = {
															mother = {
																OR = {
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREV
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } }
																		real_father = {
																			character = PREVPREVPREV
																		}
																	}
																}
															}
														}
													}
												}
												mother = {
													ROOT = {
														mother = {
															mother = {
																character = PREVPREVPREV
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
					mother = {
						OR = { #Parents
							AND = {
								NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
								father = {
									OR = { #Grandparents
										AND = {
											NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
											father = {
												OR = { #Great-Grandparents
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													mother = {
														ROOT = {
															mother = {
																mother = {
																	character = PREVPREVPREV
																}
															}
														}
													}
												}
											}
										}
										AND = {
											real_father = { OR = { is_alive = yes is_alive = no } }
											real_father = {
												OR = { #Great-Grandparents
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													mother = {
														ROOT = {
															mother = {
																mother = {
																	character = PREVPREVPREV
																}
															}
														}
													}
												}
											}
										}
										mother = {
											OR = { #Great-Grandparents
												AND = {
													NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
													father = {
														ROOT = {
															mother = {
																OR = {
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREV
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } }
																		real_father = {
																			character = PREVPREVPREV
																		}
																	}
																}
															}
														}
													}
												}
												AND = {
													real_father = { OR = { is_alive = yes is_alive = no } }
													real_father = {
														ROOT = {
															mother = {
																OR = {
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREV
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } }
																		real_father = {
																			character = PREVPREVPREV
																		}
																	}
																}
															}
														}
													}
												}
												mother = {
													ROOT = {
														mother = {
															mother = {
																character = PREVPREVPREV
															}
														}
													}
												}
											}
										}
									}
								}
							}
							AND = {
								real_father = { OR = { is_alive = yes is_alive = no } }
								real_father = {
									OR = { #Grandparents
										AND = {
											NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
											father = {
												OR = { #Great-Grandparents
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													mother = {
														ROOT = {
															mother = {
																mother = {
																	character = PREVPREVPREV
																}
															}
														}
													}
												}
											}
										}
										AND = {
											real_father = { OR = { is_alive = yes is_alive = no } }
											real_father = {
												OR = { #Great-Grandparents
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = {
															ROOT = {
																mother = {
																	OR = {
																		AND = {
																			NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																			father = {
																				character = PREVPREVPREV
																			}
																		}
																		AND = {
																			real_father = { OR = { is_alive = yes is_alive = no } }
																			real_father = {
																				character = PREVPREVPREV
																			}
																		}
																	}
																}
															}
														}
													}
													mother = {
														ROOT = {
															mother = {
																mother = {
																	character = PREVPREVPREV
																}
															}
														}
													}
												}
											}
										}
										mother = {
											OR = { #Great-Grandparents
												AND = {
													NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
													father = {
														ROOT = {
															mother = {
																OR = {
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREV
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } }
																		real_father = {
																			character = PREVPREVPREV
																		}
																	}
																}
															}
														}
													}
												}
												AND = {
													real_father = { OR = { is_alive = yes is_alive = no } }
													real_father = {
														ROOT = {
															mother = {
																OR = {
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREV
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } }
																		real_father = {
																			character = PREVPREVPREV
																		}
																	}
																}
															}
														}
													}
												}
												mother = {
													ROOT = {
														mother = {
															mother = {
																character = PREVPREVPREV
															}
														}
													}
												}
											}
										}
									}
								}
							}
							mother = {
								OR = { #Grandparents
									AND = {
										NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
										father = {
											OR = { #Great-Grandparents
												AND = {
													NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
													father = {
														ROOT = {
															mother = {
																OR = {
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREV
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } }
																		real_father = {
																			character = PREVPREVPREV
																		}
																	}
																}
															}
														}
													}
												}
												AND = {
													real_father = { OR = { is_alive = yes is_alive = no } }
													real_father = {
														ROOT = {
															mother = {
																OR = {
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREV
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } }
																		real_father = {
																			character = PREVPREVPREV
																		}
																	}
																}
															}
														}
													}
												}
												mother = {
													ROOT = {
														mother = {
															mother = {
																character = PREVPREVPREV
															}
														}
													}
												}
											}
										}
									}
									AND = {
										real_father = { OR = { is_alive = yes is_alive = no } }
										real_father = {
											OR = { #Great-Grandparents
												AND = {
													NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
													father = {
														ROOT = {
															mother = {
																OR = {
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREV
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } }
																		real_father = {
																			character = PREVPREVPREV
																		}
																	}
																}
															}
														}
													}
												}
												AND = {
													real_father = { OR = { is_alive = yes is_alive = no } }
													real_father = {
														ROOT = {
															mother = {
																OR = {
																	AND = {
																		NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																		father = {
																			character = PREVPREVPREV
																		}
																	}
																	AND = {
																		real_father = { OR = { is_alive = yes is_alive = no } }
																		real_father = {
																			character = PREVPREVPREV
																		}
																	}
																}
															}
														}
													}
												}
												mother = {
													ROOT = {
														mother = {
															mother = {
																character = PREVPREVPREV
															}
														}
													}
												}
											}
										}
									}
									mother = {
										OR = { #Great-Grandparents
											AND = {
												NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
												father = {
													ROOT = {
														mother = {
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
											AND = {
												real_father = { OR = { is_alive = yes is_alive = no } }
												real_father = {
													ROOT = {
														mother = {
															OR = {
																AND = {
																	NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
																	father = {
																		character = PREVPREVPREV
																	}
																}
																AND = {
																	real_father = { OR = { is_alive = yes is_alive = no } }
																	real_father = {
																		character = PREVPREVPREV
																	}
																}
															}
														}
													}
												}
											}
											mother = {
												ROOT = {
													mother = {
														mother = {
															character = PREVPREVPREV
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			set_character_flag = parents_are_great_avuncular
		}
		#How many parents shared?
		if = { #Is father the same?
			limit = {
				OR = {
					AND = {
						NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
						father = {
							OR = { #father
								AND = {
									NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
									father = {	
										ROOT = {
											mother = {
												OR = {
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = {	
															character = PREVPREVPREV
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = {	
															character = PREVPREVPREV
														}
													}
												}
											}
										}
									}
								}
								AND = {
									real_father = { OR = { is_alive = yes is_alive = no } } 
									real_father = {	
										ROOT = {
											mother = {
												OR = {
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = {	
															character = PREVPREVPREV
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = {	
															character = PREVPREVPREV
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
					AND = {
						real_father = { OR = { is_alive = yes is_alive = no } } 
						real_father = {
							OR = { #father
								AND = {
									NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
									father = {	
										ROOT = {
											mother = {
												OR = {
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = {	
															character = PREVPREVPREV
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = {	
															character = PREVPREVPREV
														}
													}
												}
											}
										}
									}
								}
								AND = {
									real_father = { OR = { is_alive = yes is_alive = no } } 
									real_father = {	
										ROOT = {
											mother = {
												OR = {
													AND = {
														NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
														father = {	
															character = PREVPREVPREV
														}
													}
													AND = {
														real_father = { OR = { is_alive = yes is_alive = no } }
														real_father = {	
															character = PREVPREVPREV
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			change_variable = { which = parental_parents_shared value = 1 }
		}
		if = { #Is mother the same?
			limit = {
				mother = {
					mother = { #mother
						ROOT = {
							OR = {
								AND = {
									NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
									father = {
										mother = { character = PREVPREVPREV } 
									}
								}
								AND = {
									real_father = { OR = { is_alive = yes is_alive = no } }
									real_father = {
										mother = { character = PREVPREVPREV } 
									}
								}
							}
						}
					}
				}
			}
			change_variable = { which = parental_parents_shared value = 1 }
		}
		#Parent and child
		if = {
			limit = {
				OR = {
					AND = {
						NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
						father = {
							ROOT = {
								mother = {
									OR = {
										AND = {
											NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
											father = {
												character = PREVPREVPREV
											}
										}
										AND = {
											real_father = { OR = { is_alive = yes is_alive = no } }
											real_father = {
												character = PREVPREVPREV
											}
										}
									}
								}
							}
						}
					}
					AND = {
						real_father = { OR = { is_alive = yes is_alive = no } }
						real_father = {
							ROOT = {
								mother = {
									OR = {
										AND = {
											NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
											father = {
												character = PREVPREVPREV
											}
										}
										AND = {
											real_father = { OR = { is_alive = yes is_alive = no } }
											real_father = {
												character = PREVPREVPREV
											}
										}
									}
								}
							}
						}
					}
					mother = {
						ROOT = {
							OR = {
								AND = {
									NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
									father = {
										mother = {
											character = PREVPREVPREV
										}
									}
								}
								AND = {
									real_father = { OR = { is_alive = yes is_alive = no } }
									real_father = {
										mother = {
											character = PREVPREVPREV
										}
									}
								}
							}
						}
					}
				}
			}
			set_character_flag = parents_are_parent_child
		}
	}
	option = {
		name = "GIS_OPTION"
		set_character_flag = inb_genealogy_check
		if = {
			limit = {
				OR = {
					trait = purebred
					NOT = { is_variable_equal = { which = parental_parents_shared value = 0 } }
					NOT = { is_variable_equal = { which = parental_grandparents_shared value = 0 } }
					NOT = { is_variable_equal = { which = avuncular_check value = 0 } }
					check_variable = { which = homozygosity value = 0.01 }
					has_character_flag = parents_are_parent_child
					has_character_flag = parents_are_great_avuncular
					has_character_flag = parents_are_grandparent_child
					has_character_flag = parents_are_greatgrandparent_child					
				}
			}
			character_event = { id = GIS.2 }
		}
	}
}

#Homozygosity increase
character_event = {
	id = GIS.2
	desc = "GIS_EVENT"
	hide_window = yes
	
	is_triggered_only = yes
	option = {
		name = "GIS_OPTION"
		if = { #50% Relation cases
			limit = {
				OR = {
					has_character_flag = parents_are_parent_child #Parent-child
					is_variable_equal = { which = parental_parents_shared value = 2 } #Full Siblings
				}
			}
			change_variable = { which = homozygosity value = 25 }
			character_event = { id = GIS.3 }
			break = yes
		}
		if = { #37.5% Relation cases
			limit = {
				is_variable_equal = { which = parental_parents_shared value = 1 } #Sibling-cousins
				check_variable = { which = parental_grandparents_shared value = 2.01 } 
			}
			change_variable = { which = homozygosity value = 18.75 }
			character_event = { id = GIS.3 }
			break = yes
		}
		if = { #25% Relation cases
			limit = {
				OR = {
					AND = {
						is_variable_equal = { which = parental_parents_shared value = 1 } #Half-siblings
						NOT = { check_variable = { which = parental_grandparents_shared value = 2.01 } }
					}
					is_variable_equal = { which = avuncular_check value = 2 } #Avuncular
					is_variable_equal = { which = parental_grandparents_shared value = 4 } #Double Cousins
					has_character_flag = parents_are_grandparent_child #grandparent-child
				}
			}
			change_variable = { which = homozygosity value = 12.5 } 
			character_event = { id = GIS.3 }
			break = yes
		}
		if = { #18.75% Relation cases
			limit = {
				is_variable_equal = { which = parental_grandparents_shared value = 3 } #Double Cousins
			}
			change_variable = { which = homozygosity value = 9.375 } 
			character_event = { id = GIS.3 }
			break = yes
		}
		if = { #12.5% Relation cases
			limit = {
				OR = {
					is_variable_equal = { which = avuncular_check value = 1 } #Half-Avuncular
					is_variable_equal = { which = parental_grandparents_shared value = 2 } #First Cousins
					has_character_flag = parents_are_greatgrandparent_child #grandparent-child
					has_character_flag = parents_are_great_avuncular
				}
			}
			change_variable = { which = homozygosity value = 6.25 } 
			character_event = { id = GIS.3 }
			break = yes
		}
		if = { #6.25% Relation cases
			limit = {
				is_variable_equal = { which = parental_grandparents_shared value = 1 } #Half-First Cousins
			}
			change_variable = { which = homozygosity value = 3.125 } 
			character_event = { id = GIS.3 }
			break = yes
		}
		#Unrelated/Distantly related
		change_variable = { which = homozygosity value = -10 }
		if = {
			limit = {
				NOT = { check_variable = { which = homozygosity value = 0.5 } } #Homozygosity is negligible
			}
			set_variable = { which = homozygosity value = 0 }
		}
		if = {
			limit = {
				mother = {
					trait = inbred
				}
			}
			random = {
				chance = 25
				add_trait = inbred
			}
		}
		if = {
			limit = {
				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
				father = {
					trait = inbred
				}
			}
			random = {
				chance = 25
				add_trait = inbred
			}
		}
		if = {
			limit = {
				real_father = { OR = { is_alive = yes is_alive = no } }
				real_father = {
					trait = inbred
				}
			}
			random = {
				chance = 25
				add_trait = inbred
			}
		}
		if = {
			limit = {
				mother = {
					trait = lunatic
				}
			}
			random = {
				chance = 25
				add_trait = lunatic
			}
		}
		if = {
			limit = {
				NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
				father = {
					trait = lunatic
				}
			}
			random = {
				chance = 25
				add_trait = lunatic
			}
		}
		if = {
			limit = {
				real_father = { OR = { is_alive = yes is_alive = no } }
				real_father = {
					trait = lunatic
				}
			}
			random = {
				chance = 25
				add_trait = lunatic
			}
		}
		set_character_flag = homozygosity_decrease
		character_event = { id = GIS.3 }
	}
}

#Inbreeding trait add/pureborn check
character_event = {
	id = GIS.3
	desc = "GIS_EVENT"
	hide_window = yes
	
	is_triggered_only = yes
	immediate = {
		if = {
			limit = { 
				check_variable = { which = homozygosity value = 0.99 }
				NOT = { check_variable = { which = homozygosity value = 3.75 } }
			}
			add_trait = inbred_1
		}
		if = {
			limit = { 
				check_variable = { which = homozygosity value = 3.75 }
				NOT = { check_variable = { which = homozygosity value = 6.25 } }
			}
			add_trait = inbred_2
		}
		if = {
			limit = { 
				check_variable = { which = homozygosity value = 6.25 }
				NOT = { check_variable = { which = homozygosity value = 8.75 } }
			}
			add_trait = inbred_3
		}
		if = {
			limit = { 
				check_variable = { which = homozygosity value = 8.75 }
				NOT = { check_variable = { which = homozygosity value = 11.25 } }
			}
			add_trait = inbred_4
		}
		if = {
			limit = { 
				check_variable = { which = homozygosity value = 11.25 }
				NOT = { check_variable = { which = homozygosity value = 13.75 } }
			}
			add_trait = inbred_5
		}
		if = {
			limit = { 
				check_variable = { which = homozygosity value = 13.75 }
				NOT = { check_variable = { which = homozygosity value = 16.25 } }
			}
			add_trait = inbred_6
		}
		if = {
			limit = { 
				check_variable = { which = homozygosity value = 16.25 }
				NOT = { check_variable = { which = homozygosity value = 18.75 } }
			}
			add_trait = inbred_7
		}
		if = {
			limit = { 
				check_variable = { which = homozygosity value = 18.75 }
				NOT = { check_variable = { which = homozygosity value = 21.25 } }
			}
			add_trait = inbred_8
		}
		if = {
			limit = { 
				check_variable = { which = homozygosity value = 21.25 }
				NOT = { check_variable = { which = homozygosity value = 23.75 } }
			}
			add_trait = inbred_9
		}
		if = {
			limit = { 
				check_variable = { which = homozygosity value = 23.75 }
				NOT = { check_variable = { which = homozygosity value = 26.25 } }
			}
			add_trait = inbred_10
		}
		if = {
			limit = { 
				check_variable = { which = homozygosity value = 26.25 }
				NOT = { check_variable = { which = homozygosity value = 28.75 } }
			}
			add_trait = inbred_11
		}
		if = {
			limit = { 
				check_variable = { which = homozygosity value = 28.75 }
				NOT = { check_variable = { which = homozygosity value = 31.25 } }
			}
			add_trait = inbred_12
		}
		if = {
			limit = { 
				check_variable = { which = homozygosity value = 31.25 }
				NOT = { check_variable = { which = homozygosity value = 33.75 } }
			}
			add_trait = inbred_13
		}
		if = {
			limit = { 
				check_variable = { which = homozygosity value = 33.75 }
				NOT = { check_variable = { which = homozygosity value = 36.25 } }
			}
			add_trait = inbred_14
		}
		if = {
			limit = { 
				check_variable = { which = homozygosity value = 36.25 }
				NOT = { check_variable = { which = homozygosity value = 38.75 } }
			}
			add_trait = inbred_15
		}
		if = {
			limit = { 
				check_variable = { which = homozygosity value = 38.75 }
				NOT = { check_variable = { which = homozygosity value = 41.25 } }
			}
			add_trait = inbred_16
		}
		if = {
			limit = { 
				check_variable = { which = homozygosity value = 41.25 }
				NOT = { check_variable = { which = homozygosity value = 43.75 } }
			}
			add_trait = inbred_17
		}
		if = {
			limit = { 
				check_variable = { which = homozygosity value = 43.75 }
				NOT = { check_variable = { which = homozygosity value = 46.25 } }
			}
			add_trait = inbred_18
		}
		if = {
			limit = { 
				check_variable = { which = homozygosity value = 46.25 }
				NOT = { check_variable = { which = homozygosity value = 49.99 } }
			}
			add_trait = inbred_19
		}
		if = {
			limit = {
				check_variable = { which = homozygosity value = 49.99 }
			}
			set_variable = { which = homozygosity value = 50 }
			add_trait = inbred_20
		}
	}
	option = {
		name = "GIS_OPTION"
		trigger = { NOT = { real_father = { OR = { is_alive = yes is_alive = no} } } }
		if = { #Purebred effects
			limit = {
				OR = {
					AND = {
						father = { is_variable_equal = { which = homozygosity value = 50 } }
						mother = { is_variable_equal = { which = homozygosity value = 50 } }
						check_variable = { which = homozygosity value = 49.99 }
					}
					AND = {
						father = { trait = purebred }
						mother = { trait = purebred }
					}
				}
			}
			add_trait = purebred
			#Remove mutation traits
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = lunatic }
							mother = { trait = lunatic }
						}
					}
				}
				remove_trait = lunatic
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = inbred }
							mother = { trait = inbred }
						}
					}
				}
				remove_trait = inbred
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = clubfooted }
							mother = { trait = clubfooted }
						}
					}
				}
				remove_trait = clubfooted
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = harelip }
							mother = { trait = harelip }
						}
					}
				}
				remove_trait = harelip
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = hunchback }
							mother = { trait = hunchback }
						}
					}
				}
				remove_trait = hunchback
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = lisp }
							mother = { trait = lisp }
						}
					}
				}
				remove_trait = lisp
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = stutter }
							mother = { trait = stutter }
						}
					}
				}
				remove_trait = stutter
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = fair }
							mother = { trait = fair }
						}
					}
				}
				remove_trait = fair
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = ugly }
							mother = { trait = ugly }
						}
					}
				}
				remove_trait = ugly
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = dwarf }
							mother = { trait = dwarf }
						}
					}
				}
				remove_trait = dwarf
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = genius }
							mother = { trait = genius }
						}
					}
				}
				remove_trait = genius
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = quick }
							mother = { trait = quick }
						}
					}
				}
				remove_trait = quick
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = slow }
							mother = { trait = slow }
						}
					}
				}
				remove_trait = slow
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = imbecile }
							mother = { trait = imbecile }
						}
					}
				}
				remove_trait = imbecile
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = strong }
							mother = { trait = strong }
						}
					}
				}
				remove_trait = strong
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = weak }
							mother = { trait = weak }
						}
					}
				}
				remove_trait = weak
			}
			###HIP TRAITS###
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = tall }
							mother = { trait = tall }
						}
					}
				}
				remove_trait = tall
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = agile }
							mother = { trait = agile }
						}
					}
				}
				remove_trait = agile
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = perceptive }
							mother = { trait = perceptive }
						}
					}
				}
				remove_trait = perceptive
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = melodious_voice }
							mother = { trait = melodious_voice }
						}
					}
				}
				remove_trait = melodious_voice
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = powerful_voice }
							mother = { trait = powerful_voice }
						}
					}
				}
				remove_trait = powerful_voice
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = ambidextrous }
							mother = { trait = ambidextrous }
						}
					}
				}
				remove_trait = ambidextrous
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = lefthanded }
							mother = { trait = lefthanded }
						}
					}
				}
				remove_trait = lefthanded
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = wrymouth }
							mother = { trait = wrymouth }
						}
					}
				}
				remove_trait = wrymouth
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = deaf }
							mother = { trait = deaf }
						}
					}
				}
				remove_trait = deaf
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = absentminded }
							mother = { trait = absentminded }
						}
					}
				}
				remove_trait = absentminded
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = calm_voice }
							mother = { trait = calm_voice }
						}
					}
				}
				remove_trait = calm_voice
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = fertile }
							mother = { trait = fertile }
						}
					}
				}
				remove_trait = fertile
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							father = { trait = imposing }
							mother = { trait = imposing }
						}
					}
				}
				remove_trait = imposing
			}
			#Assured inheritance if both parents have trait
			if = { 
				limit = { 
					father = { trait = lunatic }
					mother = { trait = lunatic }
				}
				add_trait = lunatic
			}
			if = { 
				limit = { 
					father = { trait = inbred }
					mother = { trait = inbred }
				}
				add_trait = inbred
			}
			if = { 
				limit = { 
					father = { trait = clubfooted }
					mother = { trait = clubfooted }
				}
				add_trait = clubfooted
			}
			if = { 
				limit = { 
					father = { trait = harelip }
					mother = { trait = harelip }
				}
				add_trait = harelip
			}
			if = { 
				limit = { 
					father = { trait = hunchback }
					mother = { trait = hunchback }
				}
				add_trait = hunchback
			}
			if = { 
				limit = { 
					father = { trait = lisp }
					mother = { trait = lisp }
				}
				add_trait = lisp
			}
			if = { 
				limit = { 
					father = { trait = stutter }
					mother = { trait = stutter }
				}
				add_trait = stutter
			}
			if = { 
				limit = { 
					father = { trait = fair }
					mother = { trait = fair }
				}
				add_trait = fair
			}
			if = { 
				limit = { 
					father = { trait = ugly }
					mother = { trait = ugly }
				}
				add_trait = ugly
			}
			if = { 
				limit = { 
					father = { trait = genius }
					mother = { trait = genius }
				}
				add_trait = genius
			}
			if = { 
				limit = { 
					father = { trait = quick }
					mother = { trait = quick }
				}
				add_trait = quick
			}
			if = { 
				limit = { 
					father = { trait = slow }
					mother = { trait = slow }
				}
				add_trait = slow
			}
			if = { 
				limit = { 
					father = { trait = imbecile }
					mother = { trait = imbecile }
				}
				add_trait = imbecile
			}
			if = { 
				limit = { 
					father = { trait = dwarf }
					mother = { trait = dwarf }
				}
				add_trait = dwarf
			}
			if = { 
				limit = { 
					father = { trait = strong }
					mother = { trait = strong }
				}
				add_trait = strong
			}
			if = { 
				limit = { 
					father = { trait = weak }
					mother = { trait = weak }
				}
				add_trait = weak
			}
			###HIP Traits###
			if = { 
				limit = { 
					father = { trait = tall }
					mother = { trait = tall }
				}
				add_trait = tall
			}
			if = { 
				limit = { 
					father = { trait = agile }
					mother = { trait = agile }
				}
				add_trait = agile
			}
			if = { 
				limit = { 
					father = { trait = perceptive }
					mother = { trait = perceptive }
				}
				add_trait = perceptive
			}
			if = { 
				limit = { 
					father = { trait = powerful_voice }
					mother = { trait = powerful_voice }
				}
				add_trait = powerful_voice
			}
			if = { 
				limit = { 
					father = { trait = melodious_voice }
					mother = { trait = melodious_voice }
				}
				add_trait = melodious_voice
			}
			if = { 
				limit = { 
					father = { trait = calm_voice }
					mother = { trait = calm_voice }
				}
				add_trait = calm_voice
			}
			if = { 
				limit = { 
					father = { trait = ambidextrous }
					mother = { trait = ambidextrous }
				}
				add_trait = ambidextrous
			}
			if = { 
				limit = { 
					father = { trait = lefthanded }
					mother = { trait = lefthanded }
				}
				add_trait = lefthanded
			}
			if = { 
				limit = { 
					father = { trait = wrymouth }
					mother = { trait = wrymouth }
				}
				add_trait = wrymouth
			}
			if = { 
				limit = { 
					father = { trait = deaf }
					mother = { trait = deaf }
				}
				add_trait = deaf
			}
			if = { 
				limit = { 
					father = { trait = absentminded }
					mother = { trait = absentminded }
				}
				add_trait = absentminded
			}
			if = { 
				limit = { 
					father = { trait = fertile }
					mother = { trait = fertile }
				}
				add_trait = fertile
			}
			if = { 
				limit = { 
					father = { trait = imposing }
					mother = { trait = imposing }
				}
				add_trait = imposing
			}
		}
		character_event = { id = GIS.4 }
	}
	option = {
		name = "GIS_OPTION"
		trigger = { real_father = { OR = { is_alive = yes is_alive = no } } }
		if = { #Purebred effects
			limit = {
				OR = {
					AND = {
						real_father = { is_variable_equal = { which = homozygosity value = 50 } }
						mother = { is_variable_equal = { which = homozygosity value = 50 } }
						check_variable = { which = homozygosity value = 49.99 }
					}
					AND = {
						real_father = { trait = purebred }
						mother = { trait = purebred }
					}
				}
			}
			add_trait = purebred
			#Remove mutation traits
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = lunatic }
							mother = { trait = lunatic }
						}
					}
				}
				remove_trait = lunatic
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = inbred }
							mother = { trait = inbred }
						}
					}
				}
				remove_trait = inbred
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = clubfooted }
							mother = { trait = clubfooted }
						}
					}
				}
				remove_trait = clubfooted
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = harelip }
							mother = { trait = harelip }
						}
					}
				}
				remove_trait = harelip
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = hunchback }
							mother = { trait = hunchback }
						}
					}
				}
				remove_trait = hunchback
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = lisp }
							mother = { trait = lisp }
						}
					}
				}
				remove_trait = lisp
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = stutter }
							mother = { trait = stutter }
						}
					}
				}
				remove_trait = stutter
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = fair }
							mother = { trait = fair }
						}
					}
				}
				remove_trait = fair
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = ugly }
							mother = { trait = ugly }
						}
					}
				}
				remove_trait = ugly
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = dwarf }
							mother = { trait = dwarf }
						}
					}
				}
				remove_trait = dwarf
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = genius }
							mother = { trait = genius }
						}
					}
				}
				remove_trait = genius
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = quick }
							mother = { trait = quick }
						}
					}
				}
				remove_trait = quick
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = slow }
							mother = { trait = slow }
						}
					}
				}
				remove_trait = slow
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = imbecile }
							mother = { trait = imbecile }
						}
					}
				}
				remove_trait = imbecile
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = strong }
							mother = { trait = strong }
						}
					}
				}
				remove_trait = strong
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = weak }
							mother = { trait = weak }
						}
					}
				}
				remove_trait = weak
			}
			###HIP TRAITS###
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = tall }
							mother = { trait = tall }
						}
					}
				}
				remove_trait = tall
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = agile }
							mother = { trait = agile }
						}
					}
				}
				remove_trait = agile
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = perceptive }
							mother = { trait = perceptive }
						}
					}
				}
				remove_trait = perceptive
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = melodious_voice }
							mother = { trait = melodious_voice }
						}
					}
				}
				remove_trait = melodious_voice
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = powerful_voice }
							mother = { trait = powerful_voice }
						}
					}
				}
				remove_trait = powerful_voice
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = ambidextrous }
							mother = { trait = ambidextrous }
						}
					}
				}
				remove_trait = ambidextrous
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = lefthanded }
							mother = { trait = lefthanded }
						}
					}
				}
				remove_trait = lefthanded
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = wrymouth }
							mother = { trait = wrymouth }
						}
					}
				}
				remove_trait = wrymouth
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = deaf }
							mother = { trait = deaf }
						}
					}
				}
				remove_trait = deaf
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = absentminded }
							mother = { trait = absentminded }
						}
					}
				}
				remove_trait = absentminded
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = calm_voice }
							mother = { trait = calm_voice }
						}
					}
				}
				remove_trait = calm_voice
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = fertile }
							mother = { trait = fertile }
						}
					}
				}
				remove_trait = fertile
			}
			if = { 
				limit = { 
					NOT = { 
						OR = {
							real_father = { trait = imposing }
							mother = { trait = imposing }
						}
					}
				}
				remove_trait = imposing
			}
			#Assured inheritance if both parents have trait
			if = { 
				limit = { 
					real_father = { trait = lunatic }
					mother = { trait = lunatic }
				}
				add_trait = lunatic
			}
			if = { 
				limit = { 
					real_father = { trait = inbred }
					mother = { trait = inbred }
				}
				add_trait = inbred
			}
			if = { 
				limit = { 
					real_father = { trait = clubfooted }
					mother = { trait = clubfooted }
				}
				add_trait = clubfooted
			}
			if = { 
				limit = { 
					real_father = { trait = harelip }
					mother = { trait = harelip }
				}
				add_trait = harelip
			}
			if = { 
				limit = { 
					real_father = { trait = hunchback }
					mother = { trait = hunchback }
				}
				add_trait = hunchback
			}
			if = { 
				limit = { 
					real_father = { trait = lisp }
					mother = { trait = lisp }
				}
				add_trait = lisp
			}
			if = { 
				limit = { 
					real_father = { trait = stutter }
					mother = { trait = stutter }
				}
				add_trait = stutter
			}
			if = { 
				limit = { 
					real_father = { trait = fair }
					mother = { trait = fair }
				}
				add_trait = fair
			}
			if = { 
				limit = { 
					real_father = { trait = ugly }
					mother = { trait = ugly }
				}
				add_trait = ugly
			}
			if = { 
				limit = { 
					real_father = { trait = genius }
					mother = { trait = genius }
				}
				add_trait = genius
			}
			if = { 
				limit = { 
					real_father = { trait = quick }
					mother = { trait = quick }
				}
				add_trait = quick
			}
			if = { 
				limit = { 
					real_father = { trait = slow }
					mother = { trait = slow }
				}
				add_trait = slow
			}
			if = { 
				limit = { 
					real_father = { trait = imbecile }
					mother = { trait = imbecile }
				}
				add_trait = imbecile
			}
			if = { 
				limit = { 
					real_father = { trait = dwarf }
					mother = { trait = dwarf }
				}
				add_trait = dwarf
			}
			if = { 
				limit = { 
					real_father = { trait = strong }
					mother = { trait = strong }
				}
				add_trait = strong
			}
			if = { 
				limit = { 
					real_father = { trait = weak }
					mother = { trait = weak }
				}
				add_trait = weak
			}
			###HIP Traits###
			if = { 
				limit = { 
					real_father = { trait = tall }
					mother = { trait = tall }
				}
				add_trait = tall
			}
			if = { 
				limit = { 
					real_father = { trait = agile }
					mother = { trait = agile }
				}
				add_trait = agile
			}
			if = { 
				limit = { 
					real_father = { trait = perceptive }
					mother = { trait = perceptive }
				}
				add_trait = perceptive
			}
			if = { 
				limit = { 
					real_father = { trait = powerful_voice }
					mother = { trait = powerful_voice }
				}
				add_trait = powerful_voice
			}
			if = { 
				limit = { 
					real_father = { trait = melodious_voice }
					mother = { trait = melodious_voice }
				}
				add_trait = melodious_voice
			}
			if = { 
				limit = { 
					real_father = { trait = calm_voice }
					mother = { trait = calm_voice }
				}
				add_trait = calm_voice
			}
			if = { 
				limit = { 
					real_father = { trait = ambidextrous }
					mother = { trait = ambidextrous }
				}
				add_trait = ambidextrous
			}
			if = { 
				limit = { 
					real_father = { trait = lefthanded }
					mother = { trait = lefthanded }
				}
				add_trait = lefthanded
			}
			if = { 
				limit = { 
					real_father = { trait = wrymouth }
					mother = { trait = wrymouth }
				}
				add_trait = wrymouth
			}
			if = { 
				limit = { 
					real_father = { trait = deaf }
					mother = { trait = deaf }
				}
				add_trait = deaf
			}
			if = { 
				limit = { 
					real_father = { trait = absentminded }
					mother = { trait = absentminded }
				}
				add_trait = absentminded
			}
			if = { 
				limit = { 
					real_father = { trait = fertile }
					mother = { trait = fertile }
				}
				add_trait = fertile
			}
			if = { 
				limit = { 
					real_father = { trait = imposing }
					mother = { trait = imposing }
				}
				add_trait = imposing
			}
		}
		if = {
			limit = {
				NOT = { has_character_flag = homozygosity_decrease }
			}
			character_event = { id = GIS.4 }
		}
		clr_character_flag = homozygosity_decrease
	}
}

#Homozygosity effects: Extra dice rolls & lunatic/inbred inheritance
character_event = {
	id = GIS.4
	desc = "GIS_EVENT"
	hide_window = yes
	
	is_triggered_only = yes
	immediate = {
		if = {
			limit = {
				OR = {
					AND = {
						NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
						father = { trait = lunatic }
					}
					AND = {
						real_father = { OR = { is_alive = yes is_alive = no } }
						real_father = { trait = lunatic }
					}
				}
			}
			random = {
				chance = 50
				add_trait = lunatic
			}
		}
		if = {
			limit = { mother = { trait = lunatic } }
			random = {
				chance = 50
				add_trait = lunatic
			}
		}
		if = {
			limit = {
				OR = {
					AND = {
						NOT = { real_father = { OR = { is_alive = yes is_alive = no } } }
						father = { trait = inbred }
					}
					AND = {
						real_father = { OR = { is_alive = yes is_alive = no } }
						real_father = { trait = inbred }
					}
				}
			}
			random = {
				chance = 50
				add_trait = inbred
			}
		}
		if = {
			limit = { mother = { trait = inbred } }
			random = {
				chance = 50
				add_trait = inbred
			}
		}
	}
	option = { 
		name = "GIS_OPTION"
		trigger = {
			NOT = { real_father = { OR = { is_alive = yes is_alive = no} } }  #Not a hidden bastard
		}
		#An extra roll with chance = homozygosity occurs for all genetic traits per parent
		if = {
			limit = {
				check_variable = { which = homozygosity value = 3 } #Lowest we care for, not very significant anyway.
				NOT = { check_variable = { which = homozygosity value = 3.5 } }
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					NOT = {
						father = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}
						}
						mother = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}	
						}
					}
				}
				random_list = {
					97 = { }
					2 =  { add_trait = inbred }
					1 = { add_trait = lunatic }
					#0 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					father = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
					mother = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
				}
				random_list = {
					97 = { }
					1 =  { add_trait = inbred }
					2 = { add_trait = lunatic }
					#0 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = {
					mother = { trait = clubfooted }
				}
				random = { 
					chance = 3
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					mother = { trait = harelip }
				}
				random = { 
					chance = 3
					add_trait = harelip
				}
			}
			if = {
				limit = {
					mother = { trait = hunchback }
				}
				random = { 
					chance = 3
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					mother = { trait = lisp }
				}
				random = { 
					chance = 3
					add_trait = lisp
				}
			}
			if = {
				limit = {
					mother = { trait = stutter }
				}
				random = { 
					chance = 3
					add_trait = stutter
				}
			}
			if = {
				limit = {
					mother = { trait = fair }
				}
				random = { 
					chance = 3
					add_trait = fair
				}
			}
			if = {
				limit = {
					mother = { trait = ugly }
				}
				random = { 
					chance = 3
					add_trait = ugly
				}
			}
			if = {
				limit = {
					mother = { trait = dwarf }
				}
				random = { #
					chance = 3
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					mother = { trait = genius }
				}
				random = { 
					chance = 3
					add_trait = genius
				}
			}
			if = {
				limit = {
					mother = { trait = quick }
				}
				random = { 
					chance = 3
					add_trait = quick
				}
			}
			if = {
				limit = {
					mother = { trait = slow }
				}
				random = { 
					chance = 3
					add_trait = slow
				}
			}
			if = {
				limit = {
					mother = { trait = imbecile }
				}
				random = { 
					chance = 3
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = strong }
				}
				random = { 
					chance = 3
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = weak }
				}
				random = { 
					chance = 3
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					mother = { trait = tall }
				}
				random = { 
					chance = 3
					add_trait = tall
				}
			}
			if = {
				limit = {
					mother = { trait = agile }
				}
				random = { 
					chance = 3
					add_trait = agile
				}
			}
			if = {
				limit = {
					mother = { trait = perceptive }
				}
				random = { 
					chance = 3
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					mother = { trait = melodious_voice }
				}
				random = { 
					chance = 3
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					mother = { trait = calm_voice }
				}
				random = { 
					chance = 3
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					mother = { trait = powerful_voice }
				}
				random = { 
					chance = 3
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					mother = { trait = ambidextrous }
				}
				random = { 
					chance = 3
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					mother = { trait = lefthanded }
				}
				random = { 
					chance = 3
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					mother = { trait = wrymouth }
				}
				random = { 
					chance = 3
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					mother = { trait = deaf }
				}
				random = { 
					chance = 3
					add_trait = deaf
				}
			}
			if = {
				limit = {
					mother = { trait = absentminded }
				}
				random = { 
					chance = 3
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					mother = { trait = fertile }
				}
				random = { 
					chance = 3
					add_trait = fertile
				}
			}
			if = {
				limit = {
					mother = { trait = imposing }
				}
				random = { 
					chance = 3
					add_trait = imposing
				}
			}
			#Father rolls
			if = {
				limit = {
					father = { trait = clubfooted }
				}
				random = { 
					chance = 3
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					father = { trait = harelip }
				}
				random = { 
					chance = 3
					add_trait = harelip
				}
			}
			if = {
				limit = {
					father = { trait = hunchback }
				}
				random = { 
					chance = 3
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					father = { trait = lisp }
				}
				random = { 
					chance = 3
					add_trait = lisp
				}
			}
			if = {
				limit = {
					father = { trait = stutter }
				}
				random = { 
					chance = 3
					add_trait = stutter
				}
			}
			if = {
				limit = {
					father = { trait = fair }
				}
				random = { 
					chance = 3
					add_trait = fair
				}
			}
			if = {
				limit = {
					father = { trait = ugly }
				}
				random = { 
					chance = 3
					add_trait = ugly
				}
			}
			if = {
				limit = {
					father = { trait = dwarf }
				}
				random = { 
					chance = 3
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					father = { trait = genius }
				}
				random = { 
					chance = 3
					add_trait = genius
				}
			}
			if = {
				limit = {
					father = { trait = quick }
				}
				random = { 
					chance = 3
					add_trait = quick
				}
			}
			if = {
				limit = {
					father = { trait = slow }
				}
				random = { 
					chance = 3
					add_trait = slow
				}
			}
			if = {
				limit = {
					father = { trait = imbecile }
				}
				random = { 
					chance = 3
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = strong }
				}
				random = { 
					chance = 3
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = weak }
				}
				random = { 
					chance = 3
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					father = { trait = tall }
				}
				random = { 
					chance = 3
					add_trait = tall
				}
			}
			if = {
				limit = {
					father = { trait = agile }
				}
				random = { 
					chance = 3
					add_trait = agile
				}
			}
			if = {
				limit = {
					father = { trait = perceptive }
				}
				random = { 
					chance = 3
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					father = { trait = melodious_voice }
				}
				random = { 
					chance = 3
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					father = { trait = calm_voice }
				}
				random = { 
					chance = 3
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					father = { trait = powerful_voice }
				}
				random = { 
					chance = 3
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					father = { trait = ambidextrous }
				}
				random = { 
					chance = 3
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					father = { trait = lefthanded }
				}
				random = { 
					chance = 3
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					father = { trait = wrymouth }
				}
				random = { 
					chance = 3
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					father = { trait = deaf }
				}
				random = { 
					chance = 3
					add_trait = deaf
				}
			}
			if = {
				limit = {
					father = { trait = absentminded }
				}
				random = { 
					chance = 3
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					father = { trait = fertile }
				}
				random = { 
					chance = 3
					add_trait = fertile
				}
			}
			if = {
				limit = {
					father = { trait = imposing }
				}
				random = { 
					chance = 3
					add_trait = imposing
				}
			}
			break = yes
		}
		if = {
			limit = {
				check_variable = { which = homozygosity value = 3.5 }
				NOT = { check_variable = { which = homozygosity value = 7.5 } }
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					NOT = {
						father = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}
						}
						mother = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}	
						}
					}
				}
				random_list = {
					95 = { }
					3 =  { add_trait = inbred }
					2 = { add_trait = lunatic }
					#0 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					father = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
					mother = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
				}
				random_list = {
					95 = { }
					2 =  { add_trait = inbred }
					3 = { add_trait = lunatic }
					#0 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = {
					mother = { trait = clubfooted }
				}
				random = { 
					chance = 5
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					mother = { trait = harelip }
				}
				random = { 
					chance = 5
					add_trait = harelip
				}
			}
			if = {
				limit = {
					mother = { trait = hunchback }
				}
				random = { 
					chance = 5
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					mother = { trait = lisp }
				}
				random = { 
					chance = 5
					add_trait = lisp
				}
			}
			if = {
				limit = {
					mother = { trait = stutter }
				}
				random = { 
					chance = 5
					add_trait = stutter
				}
			}
			if = {
				limit = {
					mother = { trait = fair }
				}
				random = { 
					chance = 5
					add_trait = fair
				}
			}
			if = {
				limit = {
					mother = { trait = ugly }
				}
				random = { #Base 10%, but we'll treat it as 15% to be fair
					chance = 5
					add_trait = ugly
				}
			}
			if = {
				limit = {
					mother = { trait = dwarf }
				}
				random = { 
					chance = 5
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					mother = { trait = genius }
				}
				random = { 
					chance = 5
					add_trait = genius
				}
			}
			if = {
				limit = {
					mother = { trait = quick }
				}
				random = { 
					chance = 5
					add_trait = quick
				}
			}
			if = {
				limit = {
					mother = { trait = slow }
				}
				random = { 
					chance = 5
					add_trait = slow
				}
			}
			if = {
				limit = {
					mother = { trait = imbecile }
				}
				random = { 
					chance = 5
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = strong }
				}
				random = { 
					chance = 5
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = weak }
				}
				random = { 
					chance = 5
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					mother = { trait = tall }
				}
				random = { 
					chance = 5
					add_trait = tall
				}
			}
			if = {
				limit = {
					mother = { trait = agile }
				}
				random = { #
					chance = 5
					add_trait = agile
				}
			}
			if = {
				limit = {
					mother = { trait = perceptive }
				}
				random = { #
					chance = 5
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					mother = { trait = melodious_voice }
				}
				random = { #
					chance = 5
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					mother = { trait = calm_voice }
				}
				random = { # - normally 25% but bring in line with the rest of the voices
					chance = 5
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					mother = { trait = powerful_voice }
				}
				random = { #
					chance = 5
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					mother = { trait = ambidextrous }
				}
				random = { 
					chance = 5
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					mother = { trait = lefthanded }
				}
				random = { 
					chance = 5
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					mother = { trait = wrymouth }
				}
				random = { #
					chance = 5
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					mother = { trait = deaf }
				}
				random = { #Base 10%
					chance = 5
					add_trait = deaf
				}
			}
			if = {
				limit = {
					mother = { trait = absentminded }
				}
				random = { #
					chance = 5
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					mother = { trait = fertile }
				}
				random = { #
					chance = 5
					add_trait = fertile
				}
			}
			if = {
				limit = {
					mother = { trait = imposing }
				}
				random = { #
					chance = 5
					add_trait = imposing
				}
			}
			#Father rolls
			if = {
				limit = {
					father = { trait = clubfooted }
				}
				random = { 
					chance = 5
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					father = { trait = harelip }
				}
				random = { 
					chance = 5
					add_trait = harelip
				}
			}
			if = {
				limit = {
					father = { trait = hunchback }
				}
				random = { 
					chance = 5
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					father = { trait = lisp }
				}
				random = { 
					chance = 5
					add_trait = lisp
				}
			}
			if = {
				limit = {
					father = { trait = stutter }
				}
				random = { 
					chance = 5
					add_trait = stutter
				}
			}
			if = {
				limit = {
					father = { trait = fair }
				}
				random = { 
					chance = 5
					add_trait = fair
				}
			}
			if = {
				limit = {
					father = { trait = ugly }
				}
				random = { #Base 10%, but we'll treat it as 15% to be fair
					chance = 5
					add_trait = ugly
				}
			}
			if = {
				limit = {
					father = { trait = dwarf }
				}
				random = { #
					chance = 5
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					father = { trait = genius }
				}
				random = { 
					chance = 5
					add_trait = genius
				}
			}
			if = {
				limit = {
					father = { trait = quick }
				}
				random = { 
					chance = 5
					add_trait = quick
				}
			}
			if = {
				limit = {
					father = { trait = slow }
				}
				random = { 
					chance = 5
					add_trait = slow
				}
			}
			if = {
				limit = {
					father = { trait = imbecile }
				}
				random = { 
					chance = 5
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = strong }
				}
				random = { 
					chance = 5
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = weak }
				}
				random = { 
					chance = 5
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					father = { trait = tall }
				}
				random = { #Base 35% - More modest 20% instead to fit in line with vanilla scaling
					chance = 5
					add_trait = tall
				}
			}
			if = {
				limit = {
					father = { trait = agile }
				}
				random = { #
					chance = 5
					add_trait = agile
				}
			}
			if = {
				limit = {
					father = { trait = perceptive }
				}
				random = { #
					chance = 5
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					father = { trait = melodious_voice }
				}
				random = { #
					chance = 5
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					father = { trait = calm_voice }
				}
				random = { # - normally 25% but bring in line with the rest of the voices
					chance = 5
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					father = { trait = powerful_voice }
				}
				random = { #
					chance = 5
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					father = { trait = ambidextrous }
				}
				random = { 
					chance = 5
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					father = { trait = lefthanded }
				}
				random = { 
					chance = 5
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					father = { trait = wrymouth }
				}
				random = { #
					chance = 5
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					father = { trait = deaf }
				}
				random = { #Base 10%
					chance = 5
					add_trait = deaf
				}
			}
			if = {
				limit = {
					father = { trait = absentminded }
				}
				random = { #
					chance = 5
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					father = { trait = fertile }
				}
				random = { #
					chance = 5
					add_trait = fertile
				}
			}
			if = {
				limit = {
					father = { trait = imposing }
				}
				random = { #
					chance = 5
					add_trait = imposing
				}
			}
			break = yes
		}
		if = {
			limit = {
				check_variable = { which = homozygosity value = 7.5 }
				NOT = { check_variable = { which = homozygosity value = 12.5 } }
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					NOT = {
						father = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}
						}
						mother = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}	
						}
					}
				}
				random_list = {
					90 = { }
					6 =  { add_trait = inbred }
					3 = { add_trait = lunatic }
					1 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					father = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
					mother = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
				}
				random_list = {
					90 = { }
					6 = { add_trait = lunatic }
					3 =  { add_trait = inbred }
					1 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = {
					mother = { trait = clubfooted }
				}
				random = { 
					chance = 10
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					mother = { trait = harelip }
				}
				random = { 
					chance = 10
					add_trait = harelip
				}
			}
			if = {
				limit = {
					mother = { trait = hunchback }
				}
				random = { 
					chance = 10
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					mother = { trait = lisp }
				}
				random = { 
					chance = 10
					add_trait = lisp
				}
			}
			if = {
				limit = {
					mother = { trait = stutter }
				}
				random = { 
					chance = 10
					add_trait = stutter
				}
			}
			if = {
				limit = {
					mother = { trait = fair }
				}
				random = { 
					chance = 10
					add_trait = fair
				}
			}
			if = {
				limit = {
					mother = { trait = ugly }
				}
				random = { #Base 10%, but we'll treat it as 15% to be fair
					chance = 10
					add_trait = ugly
				}
			}
			if = {
				limit = {
					mother = { trait = dwarf }
				}
				random = { 
					chance = 10
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					mother = { trait = genius }
				}
				random = { 
					chance = 10
					add_trait = genius
				}
			}
			if = {
				limit = {
					mother = { trait = quick }
				}
				random = { 
					chance = 10
					add_trait = quick
				}
			}
			if = {
				limit = {
					mother = { trait = slow }
				}
				random = { 
					chance = 10
					add_trait = slow
				}
			}
			if = {
				limit = {
					mother = { trait = imbecile }
				}
				random = { 
					chance = 10
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = strong }
				}
				random = { 
					chance = 10
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = weak }
				}
				random = { 
					chance = 10
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					mother = { trait = tall }
				}
				random = { 
					chance = 10
					add_trait = tall
				}
			}
			if = {
				limit = {
					mother = { trait = agile }
				}
				random = { #
					chance = 10
					add_trait = agile
				}
			}
			if = {
				limit = {
					mother = { trait = perceptive }
				}
				random = { #
					chance = 10
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					mother = { trait = melodious_voice }
				}
				random = { #
					chance = 10
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					mother = { trait = calm_voice }
				}
				random = { # - normally 25% but bring in line with the rest of the voices
					chance = 10
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					mother = { trait = powerful_voice }
				}
				random = { #
					chance = 10
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					mother = { trait = ambidextrous }
				}
				random = { 
					chance = 10
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					mother = { trait = lefthanded }
				}
				random = { 
					chance = 10
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					mother = { trait = wrymouth }
				}
				random = { #
					chance = 10
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					mother = { trait = deaf }
				}
				random = { #Base 10%
					chance = 10
					add_trait = deaf
				}
			}
			if = {
				limit = {
					mother = { trait = absentminded }
				}
				random = { #
					chance = 10
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					mother = { trait = fertile }
				}
				random = { #
					chance = 10
					add_trait = fertile
				}
			}
			if = {
				limit = {
					mother = { trait = imposing }
				}
				random = { #
					chance = 10
					add_trait = imposing
				}
			}
			#Father rolls
			if = {
				limit = {
					father = { trait = clubfooted }
				}
				random = { 
					chance = 10
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					father = { trait = harelip }
				}
				random = { 
					chance = 10
					add_trait = harelip
				}
			}
			if = {
				limit = {
					father = { trait = hunchback }
				}
				random = { 
					chance = 10
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					father = { trait = lisp }
				}
				random = { 
					chance = 10
					add_trait = lisp
				}
			}
			if = {
				limit = {
					father = { trait = stutter }
				}
				random = { 
					chance = 10
					add_trait = stutter
				}
			}
			if = {
				limit = {
					father = { trait = fair }
				}
				random = { 
					chance = 10
					add_trait = fair
				}
			}
			if = {
				limit = {
					father = { trait = ugly }
				}
				random = { #Base 10%, but we'll treat it as 15% to be fair
					chance = 10
					add_trait = ugly
				}
			}
			if = {
				limit = {
					father = { trait = dwarf }
				}
				random = { #
					chance = 10
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					father = { trait = genius }
				}
				random = { 
					chance = 10
					add_trait = genius
				}
			}
			if = {
				limit = {
					father = { trait = quick }
				}
				random = { 
					chance = 10
					add_trait = quick
				}
			}
			if = {
				limit = {
					father = { trait = slow }
				}
				random = { 
					chance = 10
					add_trait = slow
				}
			}
			if = {
				limit = {
					father = { trait = imbecile }
				}
				random = { 
					chance = 10
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = strong }
				}
				random = { 
					chance = 10
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = weak }
				}
				random = { 
					chance = 10
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					father = { trait = tall }
				}
				random = { #Base 35% - More modest 20% instead to fit in line with vanilla scaling
					chance = 10
					add_trait = tall
				}
			}
			if = {
				limit = {
					father = { trait = agile }
				}
				random = { #
					chance = 10
					add_trait = agile
				}
			}
			if = {
				limit = {
					father = { trait = perceptive }
				}
				random = { #
					chance = 10
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					father = { trait = melodious_voice }
				}
				random = { #
					chance = 10
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					father = { trait = calm_voice }
				}
				random = { # - normally 25% but bring in line with the rest of the voices
					chance = 10
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					father = { trait = powerful_voice }
				}
				random = { #
					chance = 10
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					father = { trait = ambidextrous }
				}
				random = { 
					chance = 10
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					father = { trait = lefthanded }
				}
				random = { 
					chance = 10
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					father = { trait = wrymouth }
				}
				random = { #
					chance = 10
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					father = { trait = deaf }
				}
				random = { #Base 10%
					chance = 10
					add_trait = deaf
				}
			}
			if = {
				limit = {
					father = { trait = absentminded }
				}
				random = { #
					chance = 10
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					father = { trait = fertile }
				}
				random = { #
					chance = 10
					add_trait = fertile
				}
			}
			if = {
				limit = {
					father = { trait = imposing }
				}
				random = { #
					chance = 10
					add_trait = imposing
				}
			}
			break = yes
		}
		if = {
			limit = {
				check_variable = { which = homozygosity value = 12.5 }
				NOT = { check_variable = { which = homozygosity value = 17.5 } }
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					NOT = {
						father = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}
						}
						mother = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}	
						}
					}
				}
				random_list = {
					85 = { }
					9 =  { add_trait = inbred }
					5 = { add_trait = lunatic }
					1 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					father = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
					mother = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
				}
				random_list = {
					85 = { }
					9 = { add_trait = lunatic }
					5 =  { add_trait = inbred }
					1 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = {
					mother = { trait = clubfooted }
				}
				random = { 
					chance = 15
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					mother = { trait = harelip }
				}
				random = { 
					chance = 15
					add_trait = harelip
				}
			}
			if = {
				limit = {
					mother = { trait = hunchback }
				}
				random = { 
					chance = 15
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					mother = { trait = lisp }
				}
				random = { 
					chance = 15
					add_trait = lisp
				}
			}
			if = {
				limit = {
					mother = { trait = stutter }
				}
				random = { 
					chance = 15
					add_trait = stutter
				}
			}
			if = {
				limit = {
					mother = { trait = fair }
				}
				random = { 
					chance = 15
					add_trait = fair
				}
			}
			if = {
				limit = {
					mother = { trait = ugly }
				}
				random = { #Base 10%, but we'll treat it as 15% to be fair
					chance = 15
					add_trait = ugly
				}
			}
			if = {
				limit = {
					mother = { trait = dwarf }
				}
				random = { 
					chance = 15
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					mother = { trait = genius }
				}
				random = { 
					chance = 15
					add_trait = genius
				}
			}
			if = {
				limit = {
					mother = { trait = quick }
				}
				random = { 
					chance = 15
					add_trait = quick
				}
			}
			if = {
				limit = {
					mother = { trait = slow }
				}
				random = { 
					chance = 15
					add_trait = slow
				}
			}
			if = {
				limit = {
					mother = { trait = imbecile }
				}
				random = { 
					chance = 15
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = strong }
				}
				random = { 
					chance = 15
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = weak }
				}
				random = { 
					chance = 15
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					mother = { trait = tall }
				}
				random = { 
					chance = 15
					add_trait = tall
				}
			}
			if = {
				limit = {
					mother = { trait = agile }
				}
				random = { #
					chance = 15
					add_trait = agile
				}
			}
			if = {
				limit = {
					mother = { trait = perceptive }
				}
				random = { #
					chance = 15
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					mother = { trait = melodious_voice }
				}
				random = { #
					chance = 15
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					mother = { trait = calm_voice }
				}
				random = { # - normally 25% but bring in line with the rest of the voices
					chance = 15
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					mother = { trait = powerful_voice }
				}
				random = { #
					chance = 15
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					mother = { trait = ambidextrous }
				}
				random = { 
					chance = 15
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					mother = { trait = lefthanded }
				}
				random = { 
					chance = 15
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					mother = { trait = wrymouth }
				}
				random = { #
					chance = 15
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					mother = { trait = deaf }
				}
				random = { #Base 10%
					chance = 15
					add_trait = deaf
				}
			}
			if = {
				limit = {
					mother = { trait = absentminded }
				}
				random = { #
					chance = 15
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					mother = { trait = fertile }
				}
				random = { #
					chance = 15
					add_trait = fertile
				}
			}
			if = {
				limit = {
					mother = { trait = imposing }
				}
				random = { #
					chance = 15
					add_trait = imposing
				}
			}
			#Father rolls
			if = {
				limit = {
					father = { trait = clubfooted }
				}
				random = { 
					chance = 15
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					father = { trait = harelip }
				}
				random = { 
					chance = 15
					add_trait = harelip
				}
			}
			if = {
				limit = {
					father = { trait = hunchback }
				}
				random = { 
					chance = 15
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					father = { trait = lisp }
				}
				random = { 
					chance = 15
					add_trait = lisp
				}
			}
			if = {
				limit = {
					father = { trait = stutter }
				}
				random = { 
					chance = 15
					add_trait = stutter
				}
			}
			if = {
				limit = {
					father = { trait = fair }
				}
				random = { 
					chance = 15
					add_trait = fair
				}
			}
			if = {
				limit = {
					father = { trait = ugly }
				}
				random = { #Base 10%, but we'll treat it as 15% to be fair
					chance = 15
					add_trait = ugly
				}
			}
			if = {
				limit = {
					father = { trait = dwarf }
				}
				random = { #
					chance = 15
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					father = { trait = genius }
				}
				random = { 
					chance = 15
					add_trait = genius
				}
			}
			if = {
				limit = {
					father = { trait = quick }
				}
				random = { 
					chance = 15
					add_trait = quick
				}
			}
			if = {
				limit = {
					father = { trait = slow }
				}
				random = { 
					chance = 15
					add_trait = slow
				}
			}
			if = {
				limit = {
					father = { trait = imbecile }
				}
				random = { 
					chance = 15
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = strong }
				}
				random = { 
					chance = 15
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = weak }
				}
				random = { 
					chance = 15
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					father = { trait = tall }
				}
				random = { #Base 35% - More modest 20% instead to fit in line with vanilla scaling
					chance = 15
					add_trait = tall
				}
			}
			if = {
				limit = {
					father = { trait = agile }
				}
				random = { #
					chance = 15
					add_trait = agile
				}
			}
			if = {
				limit = {
					father = { trait = perceptive }
				}
				random = { #
					chance = 15
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					father = { trait = melodious_voice }
				}
				random = { #
					chance = 15
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					father = { trait = calm_voice }
				}
				random = { # - normally 25% but bring in line with the rest of the voices
					chance = 15
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					father = { trait = powerful_voice }
				}
				random = { #
					chance = 15
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					father = { trait = ambidextrous }
				}
				random = { 
					chance = 15
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					father = { trait = lefthanded }
				}
				random = { 
					chance = 15
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					father = { trait = wrymouth }
				}
				random = { #
					chance = 15
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					father = { trait = deaf }
				}
				random = { #Base 10%
					chance = 15
					add_trait = deaf
				}
			}
			if = {
				limit = {
					father = { trait = absentminded }
				}
				random = { #
					chance = 15
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					father = { trait = fertile }
				}
				random = { #
					chance = 15
					add_trait = fertile
				}
			}
			if = {
				limit = {
					father = { trait = imposing }
				}
				random = { #
					chance = 15
					add_trait = imposing
				}
			}
			break = yes
		}
		if = {
			limit = {
				check_variable = { which = homozygosity value = 17.5 }
				NOT = { check_variable = { which = homozygosity value = 22.5 } }
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					NOT = {
						father = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}
						}
						mother = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}	
						}
					}
				}
				random_list = {
					80 = { }
					12 =  { add_trait = inbred }
					6 = { add_trait = lunatic }
					2 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					father = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
					mother = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
				}
				random_list = {
					80 = { }
					12 = { add_trait = lunatic }
					6 =  { add_trait = inbred }
					2 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = {
					mother = { trait = clubfooted }
				}
				random = { 
					chance = 20
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					mother = { trait = harelip }
				}
				random = { 
					chance = 20
					add_trait = harelip
				}
			}
			if = {
				limit = {
					mother = { trait = hunchback }
				}
				random = { 
					chance = 20
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					mother = { trait = lisp }
				}
				random = { 
					chance = 20
					add_trait = lisp
				}
			}
			if = {
				limit = {
					mother = { trait = stutter }
				}
				random = { 
					chance = 20
					add_trait = stutter
				}
			}
			if = {
				limit = {
					mother = { trait = fair }
				}
				random = { 
					chance = 20
					add_trait = fair
				}
			}
			if = {
				limit = {
					mother = { trait = ugly }
				}
				random = { #Base 10%, but we'll treat it as 15% to be fair
					chance = 20
					add_trait = ugly
				}
			}
			if = {
				limit = {
					mother = { trait = dwarf }
				}
				random = { 
					chance = 20
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					mother = { trait = genius }
				}
				random = { 
					chance = 20
					add_trait = genius
				}
			}
			if = {
				limit = {
					mother = { trait = quick }
				}
				random = { 
					chance = 20
					add_trait = quick
				}
			}
			if = {
				limit = {
					mother = { trait = slow }
				}
				random = { 
					chance = 20
					add_trait = slow
				}
			}
			if = {
				limit = {
					mother = { trait = imbecile }
				}
				random = { 
					chance = 20
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = strong }
				}
				random = { 
					chance = 20
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = weak }
				}
				random = { 
					chance = 20
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					mother = { trait = tall }
				}
				random = { 
					chance = 20
					add_trait = tall
				}
			}
			if = {
				limit = {
					mother = { trait = agile }
				}
				random = { #
					chance = 20
					add_trait = agile
				}
			}
			if = {
				limit = {
					mother = { trait = perceptive }
				}
				random = { #
					chance = 20
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					mother = { trait = melodious_voice }
				}
				random = { #
					chance = 20
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					mother = { trait = calm_voice }
				}
				random = { # - normally 25% but bring in line with the rest of the voices
					chance = 20
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					mother = { trait = powerful_voice }
				}
				random = { #
					chance = 20
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					mother = { trait = ambidextrous }
				}
				random = { 
					chance = 20
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					mother = { trait = lefthanded }
				}
				random = { 
					chance = 20
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					mother = { trait = wrymouth }
				}
				random = { #
					chance = 20
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					mother = { trait = deaf }
				}
				random = { #Base 10%
					chance = 20
					add_trait = deaf
				}
			}
			if = {
				limit = {
					mother = { trait = absentminded }
				}
				random = { #
					chance = 20
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					mother = { trait = fertile }
				}
				random = { #
					chance = 20
					add_trait = fertile
				}
			}
			if = {
				limit = {
					mother = { trait = imposing }
				}
				random = { #
					chance = 20
					add_trait = imposing
				}
			}
			#Father rolls
			if = {
				limit = {
					father = { trait = clubfooted }
				}
				random = { 
					chance = 20
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					father = { trait = harelip }
				}
				random = { 
					chance = 20
					add_trait = harelip
				}
			}
			if = {
				limit = {
					father = { trait = hunchback }
				}
				random = { 
					chance = 20
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					father = { trait = lisp }
				}
				random = { 
					chance = 20
					add_trait = lisp
				}
			}
			if = {
				limit = {
					father = { trait = stutter }
				}
				random = { 
					chance = 20
					add_trait = stutter
				}
			}
			if = {
				limit = {
					father = { trait = fair }
				}
				random = { 
					chance = 20
					add_trait = fair
				}
			}
			if = {
				limit = {
					father = { trait = ugly }
				}
				random = { #Base 10%, but we'll treat it as 15% to be fair
					chance = 20
					add_trait = ugly
				}
			}
			if = {
				limit = {
					father = { trait = dwarf }
				}
				random = { #
					chance = 20
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					father = { trait = genius }
				}
				random = { 
					chance = 20
					add_trait = genius
				}
			}
			if = {
				limit = {
					father = { trait = quick }
				}
				random = { 
					chance = 20
					add_trait = quick
				}
			}
			if = {
				limit = {
					father = { trait = slow }
				}
				random = { 
					chance = 20
					add_trait = slow
				}
			}
			if = {
				limit = {
					father = { trait = imbecile }
				}
				random = { 
					chance = 20
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = strong }
				}
				random = { 
					chance = 20
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = weak }
				}
				random = { 
					chance = 20
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					father = { trait = tall }
				}
				random = { #Base 35% - More modest 20% instead to fit in line with vanilla scaling
					chance = 20
					add_trait = tall
				}
			}
			if = {
				limit = {
					father = { trait = agile }
				}
				random = { #
					chance = 20
					add_trait = agile
				}
			}
			if = {
				limit = {
					father = { trait = perceptive }
				}
				random = { #
					chance = 20
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					father = { trait = melodious_voice }
				}
				random = { #
					chance = 20
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					father = { trait = calm_voice }
				}
				random = { # - normally 25% but bring in line with the rest of the voices
					chance = 20
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					father = { trait = powerful_voice }
				}
				random = { #
					chance = 20
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					father = { trait = ambidextrous }
				}
				random = { 
					chance = 20
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					father = { trait = lefthanded }
				}
				random = { 
					chance = 20
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					father = { trait = wrymouth }
				}
				random = { #
					chance = 20
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					father = { trait = deaf }
				}
				random = { #Base 10%
					chance = 20
					add_trait = deaf
				}
			}
			if = {
				limit = {
					father = { trait = absentminded }
				}
				random = { #
					chance = 20
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					father = { trait = fertile }
				}
				random = { #
					chance = 20
					add_trait = fertile
				}
			}
			if = {
				limit = {
					father = { trait = imposing }
				}
				random = { #
					chance = 20
					add_trait = imposing
				}
			}
			break = yes
		}
		if = {
			limit = {
				check_variable = { which = homozygosity value = 22.5 }
				NOT = { check_variable = { which = homozygosity value = 27.5 } }
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					NOT = {
						father = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}
						}
						mother = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}	
						}
					}
				}
				random_list = {
					75 = { }
					15 =  { add_trait = inbred }
					8 = { add_trait = lunatic }
					2 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					father = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
					mother = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
				}
				random_list = {
					75 = { }
					15 = { add_trait = lunatic }
					8 =  { add_trait = inbred }
					2 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = {
					mother = { trait = clubfooted }
				}
				random = { 
					chance = 25
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					mother = { trait = harelip }
				}
				random = { 
					chance = 25
					add_trait = harelip
				}
			}
			if = {
				limit = {
					mother = { trait = hunchback }
				}
				random = { 
					chance = 25
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					mother = { trait = lisp }
				}
				random = { 
					chance = 25
					add_trait = lisp
				}
			}
			if = {
				limit = {
					mother = { trait = stutter }
				}
				random = { 
					chance = 25
					add_trait = stutter
				}
			}
			if = {
				limit = {
					mother = { trait = fair }
				}
				random = { 
					chance = 25
					add_trait = fair
				}
			}
			if = {
				limit = {
					mother = { trait = ugly }
				}
				random = { #Base 10%, but we'll treat it as 15% to be fair
					chance = 25
					add_trait = ugly
				}
			}
			if = {
				limit = {
					mother = { trait = dwarf }
				}
				random = { 
					chance = 25
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					mother = { trait = genius }
				}
				random = { 
					chance = 25
					add_trait = genius
				}
			}
			if = {
				limit = {
					mother = { trait = quick }
				}
				random = { 
					chance = 25
					add_trait = quick
				}
			}
			if = {
				limit = {
					mother = { trait = slow }
				}
				random = { 
					chance = 25
					add_trait = slow
				}
			}
			if = {
				limit = {
					mother = { trait = imbecile }
				}
				random = { 
					chance = 25
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = strong }
				}
				random = { 
					chance = 25
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = weak }
				}
				random = { 
					chance = 25
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					mother = { trait = tall }
				}
				random = { 
					chance = 25
					add_trait = tall
				}
			}
			if = {
				limit = {
					mother = { trait = agile }
				}
				random = { #
					chance = 25
					add_trait = agile
				}
			}
			if = {
				limit = {
					mother = { trait = perceptive }
				}
				random = { #
					chance = 25
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					mother = { trait = melodious_voice }
				}
				random = { #
					chance = 25
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					mother = { trait = calm_voice }
				}
				random = { # - normally 25% but bring in line with the rest of the voices
					chance = 25
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					mother = { trait = powerful_voice }
				}
				random = { #
					chance = 25
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					mother = { trait = ambidextrous }
				}
				random = { 
					chance = 25
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					mother = { trait = lefthanded }
				}
				random = { 
					chance = 25
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					mother = { trait = wrymouth }
				}
				random = { #
					chance = 25
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					mother = { trait = deaf }
				}
				random = { #Base 10%
					chance = 25
					add_trait = deaf
				}
			}
			if = {
				limit = {
					mother = { trait = absentminded }
				}
				random = { #
					chance = 25
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					mother = { trait = fertile }
				}
				random = { #
					chance = 25
					add_trait = fertile
				}
			}
			if = {
				limit = {
					mother = { trait = imposing }
				}
				random = { #
					chance = 25
					add_trait = imposing
				}
			}
			#Father rolls
			if = {
				limit = {
					father = { trait = clubfooted }
				}
				random = { 
					chance = 25
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					father = { trait = harelip }
				}
				random = { 
					chance = 25
					add_trait = harelip
				}
			}
			if = {
				limit = {
					father = { trait = hunchback }
				}
				random = { 
					chance = 25
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					father = { trait = lisp }
				}
				random = { 
					chance = 25
					add_trait = lisp
				}
			}
			if = {
				limit = {
					father = { trait = stutter }
				}
				random = { 
					chance = 25
					add_trait = stutter
				}
			}
			if = {
				limit = {
					father = { trait = fair }
				}
				random = { 
					chance = 25
					add_trait = fair
				}
			}
			if = {
				limit = {
					father = { trait = ugly }
				}
				random = { #Base 10%, but we'll treat it as 15% to be fair
					chance = 25
					add_trait = ugly
				}
			}
			if = {
				limit = {
					father = { trait = dwarf }
				}
				random = { #
					chance = 25
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					father = { trait = genius }
				}
				random = { 
					chance = 25
					add_trait = genius
				}
			}
			if = {
				limit = {
					father = { trait = quick }
				}
				random = { 
					chance = 25
					add_trait = quick
				}
			}
			if = {
				limit = {
					father = { trait = slow }
				}
				random = { 
					chance = 25
					add_trait = slow
				}
			}
			if = {
				limit = {
					father = { trait = imbecile }
				}
				random = { 
					chance = 25
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = strong }
				}
				random = { 
					chance = 25
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = weak }
				}
				random = { 
					chance = 25
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					father = { trait = tall }
				}
				random = { #Base 35% - More modest 20% instead to fit in line with vanilla scaling
					chance = 25
					add_trait = tall
				}
			}
			if = {
				limit = {
					father = { trait = agile }
				}
				random = { #
					chance = 25
					add_trait = agile
				}
			}
			if = {
				limit = {
					father = { trait = perceptive }
				}
				random = { #
					chance = 25
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					father = { trait = melodious_voice }
				}
				random = { #
					chance = 25
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					father = { trait = calm_voice }
				}
				random = { # - normally 25% but bring in line with the rest of the voices
					chance = 25
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					father = { trait = powerful_voice }
				}
				random = { #
					chance = 25
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					father = { trait = ambidextrous }
				}
				random = { 
					chance = 25
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					father = { trait = lefthanded }
				}
				random = { 
					chance = 25
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					father = { trait = wrymouth }
				}
				random = { #
					chance = 25
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					father = { trait = deaf }
				}
				random = { #Base 10%
					chance = 25
					add_trait = deaf
				}
			}
			if = {
				limit = {
					father = { trait = absentminded }
				}
				random = { #
					chance = 25
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					father = { trait = fertile }
				}
				random = { #
					chance = 25
					add_trait = fertile
				}
			}
			if = {
				limit = {
					father = { trait = imposing }
				}
				random = { #
					chance = 25
					add_trait = imposing
				}
			}
			break = yes
		}
		if = {
			limit = {
				check_variable = { which = homozygosity value = 27.5 }
				NOT = { check_variable = { which = homozygosity value = 32.5 } }
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					NOT = {
						father = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}
						}
						mother = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}	
						}
					}
				}
				random_list = {
					70 = { }
					18 =  { add_trait = inbred }
					9 = { add_trait = lunatic }
					3 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					father = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
					mother = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
				}
				random_list = {
					70 = { }
					18 = { add_trait = lunatic }
					9 =  { add_trait = inbred }
					3 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = {
					mother = { trait = clubfooted }
				}
				random = { 
					chance = 30
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					mother = { trait = harelip }
				}
				random = { 
					chance = 30
					add_trait = harelip
				}
			}
			if = {
				limit = {
					mother = { trait = hunchback }
				}
				random = { 
					chance = 30
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					mother = { trait = lisp }
				}
				random = { 
					chance = 30
					add_trait = lisp
				}
			}
			if = {
				limit = {
					mother = { trait = stutter }
				}
				random = { 
					chance = 30
					add_trait = stutter
				}
			}
			if = {
				limit = {
					mother = { trait = fair }
				}
				random = { 
					chance = 30
					add_trait = fair
				}
			}
			if = {
				limit = {
					mother = { trait = ugly }
				}
				random = { #Base 10%, but we'll treat it as 15% to be fair
					chance = 30
					add_trait = ugly
				}
			}
			if = {
				limit = {
					mother = { trait = dwarf }
				}
				random = { 
					chance = 30
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					mother = { trait = genius }
				}
				random = { 
					chance = 30
					add_trait = genius
				}
			}
			if = {
				limit = {
					mother = { trait = quick }
				}
				random = { 
					chance = 30
					add_trait = quick
				}
			}
			if = {
				limit = {
					mother = { trait = slow }
				}
				random = { 
					chance = 30
					add_trait = slow
				}
			}
			if = {
				limit = {
					mother = { trait = imbecile }
				}
				random = { 
					chance = 30
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = strong }
				}
				random = { 
					chance = 30
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = weak }
				}
				random = { 
					chance = 30
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					mother = { trait = tall }
				}
				random = { 
					chance = 30
					add_trait = tall
				}
			}
			if = {
				limit = {
					mother = { trait = agile }
				}
				random = { #
					chance = 30
					add_trait = agile
				}
			}
			if = {
				limit = {
					mother = { trait = perceptive }
				}
				random = { #
					chance = 30
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					mother = { trait = melodious_voice }
				}
				random = { #
					chance = 30
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					mother = { trait = calm_voice }
				}
				random = { # - normally 25% but bring in line with the rest of the voices
					chance = 30
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					mother = { trait = powerful_voice }
				}
				random = { #
					chance = 30
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					mother = { trait = ambidextrous }
				}
				random = { 
					chance = 30
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					mother = { trait = lefthanded }
				}
				random = { 
					chance = 30
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					mother = { trait = wrymouth }
				}
				random = { #
					chance = 30
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					mother = { trait = deaf }
				}
				random = { #Base 10%
					chance = 30
					add_trait = deaf
				}
			}
			if = {
				limit = {
					mother = { trait = absentminded }
				}
				random = { #
					chance = 30
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					mother = { trait = fertile }
				}
				random = { #
					chance = 30
					add_trait = fertile
				}
			}
			if = {
				limit = {
					mother = { trait = imposing }
				}
				random = { #
					chance = 30
					add_trait = imposing
				}
			}
			#Father rolls
			if = {
				limit = {
					father = { trait = clubfooted }
				}
				random = { 
					chance = 30
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					father = { trait = harelip }
				}
				random = { 
					chance = 30
					add_trait = harelip
				}
			}
			if = {
				limit = {
					father = { trait = hunchback }
				}
				random = { 
					chance = 30
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					father = { trait = lisp }
				}
				random = { 
					chance = 30
					add_trait = lisp
				}
			}
			if = {
				limit = {
					father = { trait = stutter }
				}
				random = { 
					chance = 30
					add_trait = stutter
				}
			}
			if = {
				limit = {
					father = { trait = fair }
				}
				random = { 
					chance = 30
					add_trait = fair
				}
			}
			if = {
				limit = {
					father = { trait = ugly }
				}
				random = { #Base 10%, but we'll treat it as 15% to be fair
					chance = 30
					add_trait = ugly
				}
			}
			if = {
				limit = {
					father = { trait = dwarf }
				}
				random = { #
					chance = 30
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					father = { trait = genius }
				}
				random = { 
					chance = 30
					add_trait = genius
				}
			}
			if = {
				limit = {
					father = { trait = quick }
				}
				random = { 
					chance = 30
					add_trait = quick
				}
			}
			if = {
				limit = {
					father = { trait = slow }
				}
				random = { 
					chance = 30
					add_trait = slow
				}
			}
			if = {
				limit = {
					father = { trait = imbecile }
				}
				random = { 
					chance = 30
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = strong }
				}
				random = { 
					chance = 30
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = weak }
				}
				random = { 
					chance = 30
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					father = { trait = tall }
				}
				random = { #Base 35% - More modest 20% instead to fit in line with vanilla scaling
					chance = 30
					add_trait = tall
				}
			}
			if = {
				limit = {
					father = { trait = agile }
				}
				random = { #
					chance = 30
					add_trait = agile
				}
			}
			if = {
				limit = {
					father = { trait = perceptive }
				}
				random = { #
					chance = 30
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					father = { trait = melodious_voice }
				}
				random = { #
					chance = 30
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					father = { trait = calm_voice }
				}
				random = { # - normally 25% but bring in line with the rest of the voices
					chance = 30
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					father = { trait = powerful_voice }
				}
				random = { #
					chance = 30
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					father = { trait = ambidextrous }
				}
				random = { 
					chance = 30
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					father = { trait = lefthanded }
				}
				random = { 
					chance = 30
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					father = { trait = wrymouth }
				}
				random = { #
					chance = 30
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					father = { trait = deaf }
				}
				random = { #Base 10%
					chance = 30
					add_trait = deaf
				}
			}
			if = {
				limit = {
					father = { trait = absentminded }
				}
				random = { #
					chance = 30
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					father = { trait = fertile }
				}
				random = { #
					chance = 30
					add_trait = fertile
				}
			}
			if = {
				limit = {
					father = { trait = imposing }
				}
				random = { #
					chance = 30
					add_trait = imposing
				}
			}
			break = yes
		}
		if = {
			limit = {
				check_variable = { which = homozygosity value = 32.5 }
				NOT = { check_variable = { which = homozygosity value = 37.5 } }
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					NOT = {
						father = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}
						}
						mother = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}	
						}
					}
				}
				random_list = {
					65 = { }
					21 =  { add_trait = inbred }
					11 = { add_trait = lunatic }
					3 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					father = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
					mother = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
				}
				random_list = {
					65 = { }
					21 = { add_trait = lunatic }
					11 =  { add_trait = inbred }
					3 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = {
					mother = { trait = clubfooted }
				}
				random = { 
					chance = 35
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					mother = { trait = harelip }
				}
				random = { 
					chance = 35
					add_trait = harelip
				}
			}
			if = {
				limit = {
					mother = { trait = hunchback }
				}
				random = { 
					chance = 35
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					mother = { trait = lisp }
				}
				random = { 
					chance = 35
					add_trait = lisp
				}
			}
			if = {
				limit = {
					mother = { trait = stutter }
				}
				random = { 
					chance = 35
					add_trait = stutter
				}
			}
			if = {
				limit = {
					mother = { trait = fair }
				}
				random = { 
					chance = 35
					add_trait = fair
				}
			}
			if = {
				limit = {
					mother = { trait = ugly }
				}
				random = { #Base 10%, but we'll treat it as 15% to be fair
					chance = 35
					add_trait = ugly
				}
			}
			if = {
				limit = {
					mother = { trait = dwarf }
				}
				random = { 
					chance = 35
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					mother = { trait = genius }
				}
				random = { 
					chance = 35
					add_trait = genius
				}
			}
			if = {
				limit = {
					mother = { trait = quick }
				}
				random = { 
					chance = 35
					add_trait = quick
				}
			}
			if = {
				limit = {
					mother = { trait = slow }
				}
				random = { 
					chance = 35
					add_trait = slow
				}
			}
			if = {
				limit = {
					mother = { trait = imbecile }
				}
				random = { 
					chance = 35
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = strong }
				}
				random = { 
					chance = 35
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = weak }
				}
				random = { 
					chance = 35
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					mother = { trait = tall }
				}
				random = { 
					chance = 35
					add_trait = tall
				}
			}
			if = {
				limit = {
					mother = { trait = agile }
				}
				random = { #
					chance = 35
					add_trait = agile
				}
			}
			if = {
				limit = {
					mother = { trait = perceptive }
				}
				random = { #
					chance = 35
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					mother = { trait = melodious_voice }
				}
				random = { #
					chance = 35
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					mother = { trait = calm_voice }
				}
				random = { # - normally 25% but bring in line with the rest of the voices
					chance = 35
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					mother = { trait = powerful_voice }
				}
				random = { #
					chance = 35
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					mother = { trait = ambidextrous }
				}
				random = { 
					chance = 35
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					mother = { trait = lefthanded }
				}
				random = { 
					chance = 35
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					mother = { trait = wrymouth }
				}
				random = { #
					chance = 35
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					mother = { trait = deaf }
				}
				random = { #Base 10%
					chance = 35
					add_trait = deaf
				}
			}
			if = {
				limit = {
					mother = { trait = absentminded }
				}
				random = { #
					chance = 35
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					mother = { trait = fertile }
				}
				random = { #
					chance = 35
					add_trait = fertile
				}
			}
			if = {
				limit = {
					mother = { trait = imposing }
				}
				random = { #
					chance = 35
					add_trait = imposing
				}
			}
			#Father rolls
			if = {
				limit = {
					father = { trait = clubfooted }
				}
				random = { 
					chance = 35
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					father = { trait = harelip }
				}
				random = { 
					chance = 35
					add_trait = harelip
				}
			}
			if = {
				limit = {
					father = { trait = hunchback }
				}
				random = { 
					chance = 35
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					father = { trait = lisp }
				}
				random = { 
					chance = 35
					add_trait = lisp
				}
			}
			if = {
				limit = {
					father = { trait = stutter }
				}
				random = { 
					chance = 35
					add_trait = stutter
				}
			}
			if = {
				limit = {
					father = { trait = fair }
				}
				random = { 
					chance = 35
					add_trait = fair
				}
			}
			if = {
				limit = {
					father = { trait = ugly }
				}
				random = { #Base 10%, but we'll treat it as 15% to be fair
					chance = 35
					add_trait = ugly
				}
			}
			if = {
				limit = {
					father = { trait = dwarf }
				}
				random = { #
					chance = 35
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					father = { trait = genius }
				}
				random = { 
					chance = 35
					add_trait = genius
				}
			}
			if = {
				limit = {
					father = { trait = quick }
				}
				random = { 
					chance = 35
					add_trait = quick
				}
			}
			if = {
				limit = {
					father = { trait = slow }
				}
				random = { 
					chance = 35
					add_trait = slow
				}
			}
			if = {
				limit = {
					father = { trait = imbecile }
				}
				random = { 
					chance = 35
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = strong }
				}
				random = { 
					chance = 35
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = weak }
				}
				random = { 
					chance = 35
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					father = { trait = tall }
				}
				random = { #Base 35% - More modest 20% instead to fit in line with vanilla scaling
					chance = 35
					add_trait = tall
				}
			}
			if = {
				limit = {
					father = { trait = agile }
				}
				random = { #
					chance = 35
					add_trait = agile
				}
			}
			if = {
				limit = {
					father = { trait = perceptive }
				}
				random = { #
					chance = 35
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					father = { trait = melodious_voice }
				}
				random = { #
					chance = 35
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					father = { trait = calm_voice }
				}
				random = { # - normally 25% but bring in line with the rest of the voices
					chance = 35
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					father = { trait = powerful_voice }
				}
				random = { #
					chance = 35
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					father = { trait = ambidextrous }
				}
				random = { 
					chance = 35
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					father = { trait = lefthanded }
				}
				random = { 
					chance = 35
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					father = { trait = wrymouth }
				}
				random = { #
					chance = 35
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					father = { trait = deaf }
				}
				random = { #Base 10%
					chance = 35
					add_trait = deaf
				}
			}
			if = {
				limit = {
					father = { trait = absentminded }
				}
				random = { #
					chance = 35
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					father = { trait = fertile }
				}
				random = { #
					chance = 35
					add_trait = fertile
				}
			}
			if = {
				limit = {
					father = { trait = imposing }
				}
				random = { #
					chance = 35
					add_trait = imposing
				}
			}
			break = yes
		}
		if = {
			limit = {
				check_variable = { which = homozygosity value = 37.5 }
				NOT = { check_variable = { which = homozygosity value = 42.5 } }
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					NOT = {
						father = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}
						}
						mother = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}	
						}
					}
				}
				random_list = {
					60 = { }
					24 =  { add_trait = inbred }
					12 = { add_trait = lunatic }
					4 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					father = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
					mother = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
				}
				random_list = {
					60 = { }
					24 = { add_trait = lunatic }
					12 =  { add_trait = inbred }
					4 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = {
					mother = { trait = clubfooted }
				}
				random = { 
					chance = 40
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					mother = { trait = harelip }
				}
				random = { 
					chance = 40
					add_trait = harelip
				}
			}
			if = {
				limit = {
					mother = { trait = hunchback }
				}
				random = { 
					chance = 40
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					mother = { trait = lisp }
				}
				random = { 
					chance = 40
					add_trait = lisp
				}
			}
			if = {
				limit = {
					mother = { trait = stutter }
				}
				random = { 
					chance = 40
					add_trait = stutter
				}
			}
			if = {
				limit = {
					mother = { trait = fair }
				}
				random = { 
					chance = 40
					add_trait = fair
				}
			}
			if = {
				limit = {
					mother = { trait = ugly }
				}
				random = { #Base 10%, but we'll treat it as 15% to be fair
					chance = 40
					add_trait = ugly
				}
			}
			if = {
				limit = {
					mother = { trait = dwarf }
				}
				random = { 
					chance = 40
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					mother = { trait = genius }
				}
				random = { 
					chance = 40
					add_trait = genius
				}
			}
			if = {
				limit = {
					mother = { trait = quick }
				}
				random = { 
					chance = 40
					add_trait = quick
				}
			}
			if = {
				limit = {
					mother = { trait = slow }
				}
				random = { 
					chance = 40
					add_trait = slow
				}
			}
			if = {
				limit = {
					mother = { trait = imbecile }
				}
				random = { 
					chance = 40
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = strong }
				}
				random = { 
					chance = 40
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = weak }
				}
				random = { 
					chance = 40
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					mother = { trait = tall }
				}
				random = { 
					chance = 40
					add_trait = tall
				}
			}
			if = {
				limit = {
					mother = { trait = agile }
				}
				random = { #
					chance = 40
					add_trait = agile
				}
			}
			if = {
				limit = {
					mother = { trait = perceptive }
				}
				random = { #
					chance = 40
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					mother = { trait = melodious_voice }
				}
				random = { #
					chance = 40
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					mother = { trait = calm_voice }
				}
				random = { # - normally 25% but bring in line with the rest of the voices
					chance = 40
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					mother = { trait = powerful_voice }
				}
				random = { #
					chance = 40
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					mother = { trait = ambidextrous }
				}
				random = { 
					chance = 40
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					mother = { trait = lefthanded }
				}
				random = { 
					chance = 40
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					mother = { trait = wrymouth }
				}
				random = { #
					chance = 40
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					mother = { trait = deaf }
				}
				random = { #Base 10%
					chance = 40
					add_trait = deaf
				}
			}
			if = {
				limit = {
					mother = { trait = absentminded }
				}
				random = { #
					chance = 40
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					mother = { trait = fertile }
				}
				random = { #
					chance = 40
					add_trait = fertile
				}
			}
			if = {
				limit = {
					mother = { trait = imposing }
				}
				random = { #
					chance = 40
					add_trait = imposing
				}
			}
			#Father rolls
			if = {
				limit = {
					father = { trait = clubfooted }
				}
				random = { 
					chance = 40
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					father = { trait = harelip }
				}
				random = { 
					chance = 40
					add_trait = harelip
				}
			}
			if = {
				limit = {
					father = { trait = hunchback }
				}
				random = { 
					chance = 40
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					father = { trait = lisp }
				}
				random = { 
					chance = 40
					add_trait = lisp
				}
			}
			if = {
				limit = {
					father = { trait = stutter }
				}
				random = { 
					chance = 40
					add_trait = stutter
				}
			}
			if = {
				limit = {
					father = { trait = fair }
				}
				random = { 
					chance = 40
					add_trait = fair
				}
			}
			if = {
				limit = {
					father = { trait = ugly }
				}
				random = { #Base 10%, but we'll treat it as 15% to be fair
					chance = 40
					add_trait = ugly
				}
			}
			if = {
				limit = {
					father = { trait = dwarf }
				}
				random = { #
					chance = 40
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					father = { trait = genius }
				}
				random = { 
					chance = 40
					add_trait = genius
				}
			}
			if = {
				limit = {
					father = { trait = quick }
				}
				random = { 
					chance = 40
					add_trait = quick
				}
			}
			if = {
				limit = {
					father = { trait = slow }
				}
				random = { 
					chance = 40
					add_trait = slow
				}
			}
			if = {
				limit = {
					father = { trait = imbecile }
				}
				random = { 
					chance = 40
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = strong }
				}
				random = { 
					chance = 40
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = weak }
				}
				random = { 
					chance = 40
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					father = { trait = tall }
				}
				random = { #Base 35% - More modest 20% instead to fit in line with vanilla scaling
					chance = 40
					add_trait = tall
				}
			}
			if = {
				limit = {
					father = { trait = agile }
				}
				random = { #
					chance = 40
					add_trait = agile
				}
			}
			if = {
				limit = {
					father = { trait = perceptive }
				}
				random = { #
					chance = 40
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					father = { trait = melodious_voice }
				}
				random = { #
					chance = 40
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					father = { trait = calm_voice }
				}
				random = { # - normally 25% but bring in line with the rest of the voices
					chance = 40
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					father = { trait = powerful_voice }
				}
				random = { #
					chance = 40
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					father = { trait = ambidextrous }
				}
				random = { 
					chance = 40
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					father = { trait = lefthanded }
				}
				random = { 
					chance = 40
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					father = { trait = wrymouth }
				}
				random = { #
					chance = 40
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					father = { trait = deaf }
				}
				random = { #Base 10%
					chance = 40
					add_trait = deaf
				}
			}
			if = {
				limit = {
					father = { trait = absentminded }
				}
				random = { #
					chance = 40
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					father = { trait = fertile }
				}
				random = { #
					chance = 40
					add_trait = fertile
				}
			}
			if = {
				limit = {
					father = { trait = imposing }
				}
				random = { #
					chance = 40
					add_trait = imposing
				}
			}
			break = yes
		}
		if = {
			limit = {
				check_variable = { which = homozygosity value = 42.5 }
				NOT = { check_variable = { which = homozygosity value = 49.9 } }
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					NOT = {
						father = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}
						}
						mother = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}	
						}
					}
				}
				random_list = {
					55 = { }
					27 =  { add_trait = inbred }
					14 = { add_trait = lunatic }
					4 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					father = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
					mother = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
				}
				random_list = {
					55 = { }
					27 = { add_trait = lunatic }
					14 =  { add_trait = inbred }
					4 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = {
					mother = { trait = clubfooted }
				}
				random = { 
					chance = 45
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					mother = { trait = harelip }
				}
				random = { 
					chance = 45
					add_trait = harelip
				}
			}
			if = {
				limit = {
					mother = { trait = hunchback }
				}
				random = { 
					chance = 45
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					mother = { trait = lisp }
				}
				random = { 
					chance = 45
					add_trait = lisp
				}
			}
			if = {
				limit = {
					mother = { trait = stutter }
				}
				random = { 
					chance = 45
					add_trait = stutter
				}
			}
			if = {
				limit = {
					mother = { trait = fair }
				}
				random = { 
					chance = 45
					add_trait = fair
				}
			}
			if = {
				limit = {
					mother = { trait = ugly }
				}
				random = { #Base 10%, but we'll treat it as 15% to be fair
					chance = 45
					add_trait = ugly
				}
			}
			if = {
				limit = {
					mother = { trait = dwarf }
				}
				random = { 
					chance = 45
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					mother = { trait = genius }
				}
				random = { 
					chance = 45
					add_trait = genius
				}
			}
			if = {
				limit = {
					mother = { trait = quick }
				}
				random = { 
					chance = 45
					add_trait = quick
				}
			}
			if = {
				limit = {
					mother = { trait = slow }
				}
				random = { 
					chance = 45
					add_trait = slow
				}
			}
			if = {
				limit = {
					mother = { trait = imbecile }
				}
				random = { 
					chance = 45
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = strong }
				}
				random = { 
					chance = 45
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = weak }
				}
				random = { 
					chance = 45
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					mother = { trait = tall }
				}
				random = { 
					chance = 45
					add_trait = tall
				}
			}
			if = {
				limit = {
					mother = { trait = agile }
				}
				random = { #
					chance = 45
					add_trait = agile
				}
			}
			if = {
				limit = {
					mother = { trait = perceptive }
				}
				random = { #
					chance = 45
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					mother = { trait = melodious_voice }
				}
				random = { #
					chance = 45
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					mother = { trait = calm_voice }
				}
				random = { # - normally 25% but bring in line with the rest of the voices
					chance = 45
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					mother = { trait = powerful_voice }
				}
				random = { #
					chance = 45
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					mother = { trait = ambidextrous }
				}
				random = { 
					chance = 45
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					mother = { trait = lefthanded }
				}
				random = { 
					chance = 45
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					mother = { trait = wrymouth }
				}
				random = { #
					chance = 45
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					mother = { trait = deaf }
				}
				random = { #Base 10%
					chance = 45
					add_trait = deaf
				}
			}
			if = {
				limit = {
					mother = { trait = absentminded }
				}
				random = { #
					chance = 45
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					mother = { trait = fertile }
				}
				random = { #
					chance = 45
					add_trait = fertile
				}
			}
			if = {
				limit = {
					mother = { trait = imposing }
				}
				random = { #
					chance = 45
					add_trait = imposing
				}
			}
			#Father rolls
			if = {
				limit = {
					father = { trait = clubfooted }
				}
				random = { 
					chance = 45
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					father = { trait = harelip }
				}
				random = { 
					chance = 45
					add_trait = harelip
				}
			}
			if = {
				limit = {
					father = { trait = hunchback }
				}
				random = { 
					chance = 45
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					father = { trait = lisp }
				}
				random = { 
					chance = 45
					add_trait = lisp
				}
			}
			if = {
				limit = {
					father = { trait = stutter }
				}
				random = { 
					chance = 45
					add_trait = stutter
				}
			}
			if = {
				limit = {
					father = { trait = fair }
				}
				random = { 
					chance = 45
					add_trait = fair
				}
			}
			if = {
				limit = {
					father = { trait = ugly }
				}
				random = { #Base 10%, but we'll treat it as 15% to be fair
					chance = 45
					add_trait = ugly
				}
			}
			if = {
				limit = {
					father = { trait = dwarf }
				}
				random = { #
					chance = 45
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					father = { trait = genius }
				}
				random = { 
					chance = 45
					add_trait = genius
				}
			}
			if = {
				limit = {
					father = { trait = quick }
				}
				random = { 
					chance = 45
					add_trait = quick
				}
			}
			if = {
				limit = {
					father = { trait = slow }
				}
				random = { 
					chance = 45
					add_trait = slow
				}
			}
			if = {
				limit = {
					father = { trait = imbecile }
				}
				random = { 
					chance = 45
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = strong }
				}
				random = { 
					chance = 45
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = weak }
				}
				random = { 
					chance = 45
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					father = { trait = tall }
				}
				random = { #Base 35% - More modest 20% instead to fit in line with vanilla scaling
					chance = 45
					add_trait = tall
				}
			}
			if = {
				limit = {
					father = { trait = agile }
				}
				random = { #
					chance = 45
					add_trait = agile
				}
			}
			if = {
				limit = {
					father = { trait = perceptive }
				}
				random = { #
					chance = 45
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					father = { trait = melodious_voice }
				}
				random = { #
					chance = 45
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					father = { trait = calm_voice }
				}
				random = { # - normally 25% but bring in line with the rest of the voices
					chance = 45
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					father = { trait = powerful_voice }
				}
				random = { #
					chance = 45
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					father = { trait = ambidextrous }
				}
				random = { 
					chance = 45
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					father = { trait = lefthanded }
				}
				random = { 
					chance = 45
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					father = { trait = wrymouth }
				}
				random = { #
					chance = 45
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					father = { trait = deaf }
				}
				random = { #Base 10%
					chance = 45
					add_trait = deaf
				}
			}
			if = {
				limit = {
					father = { trait = absentminded }
				}
				random = { #
					chance = 45
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					father = { trait = fertile }
				}
				random = { #
					chance = 45
					add_trait = fertile
				}
			}
			if = {
				limit = {
					father = { trait = imposing }
				}
				random = { #
					chance = 45
					add_trait = imposing
				}
			}
			break = yes
		}
		if = {
			limit = {
				check_variable = { which = homozygosity value = 49.9 }
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					NOT = {
						father = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}
						}
						mother = {
							OR = {
								race = persian
								race = kurdish
								race = afghan
								race = baloch
								race = egyptian_arabic
								race = west_valyrian
								race = high_valyrian
							}	
						}
					}
				}
				random_list = {
					50 = { }
					30 =  { add_trait = inbred }
					15 = { add_trait = lunatic }
					5 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = { 
					NOT = { trait = purebred } 
					father = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
					mother = {
						OR = {
							race = persian
							race = kurdish
							race = afghan
							race = baloch
							race = egyptian_arabic
							race = west_valyrian
							race = high_valyrian
						}
					}
				}
				random_list = {
					50 = { }
					30 = { add_trait = lunatic }
					15 =  { add_trait = inbred }
					5 = { add_trait = inbred add_trait = lunatic }
				}
			}
			if = {
				limit = {
					mother = { trait = clubfooted }
				}
				random = { 
					chance = 50
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					mother = { trait = harelip }
				}
				random = { 
					chance = 50
					add_trait = harelip
				}
			}
			if = {
				limit = {
					mother = { trait = hunchback }
				}
				random = { 
					chance = 50
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					mother = { trait = lisp }
				}
				random = { 
					chance = 50
					add_trait = lisp
				}
			}
			if = {
				limit = {
					mother = { trait = stutter }
				}
				random = { 
					chance = 50
					add_trait = stutter
				}
			}
			if = {
				limit = {
					mother = { trait = fair }
				}
				random = { 
					chance = 50
					add_trait = fair
				}
			}
			if = {
				limit = {
					mother = { trait = ugly }
				}
				random = { #Base 10%, but we'll treat it as 15% to be fair
					chance = 50
					add_trait = ugly
				}
			}
			if = {
				limit = {
					mother = { trait = dwarf }
				}
				random = { 
					chance = 50
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					mother = { trait = genius }
				}
				random = { 
					chance = 50
					add_trait = genius
				}
			}
			if = {
				limit = {
					mother = { trait = quick }
				}
				random = { 
					chance = 50
					add_trait = quick
				}
			}
			if = {
				limit = {
					mother = { trait = slow }
				}
				random = { 
					chance = 50
					add_trait = slow
				}
			}
			if = {
				limit = {
					mother = { trait = imbecile }
				}
				random = { 
					chance = 50
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = strong }
				}
				random = { 
					chance = 50
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					mother = { trait = weak }
				}
				random = { 
					chance = 50
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					mother = { trait = tall }
				}
				random = { 
					chance = 50
					add_trait = tall
				}
			}
			if = {
				limit = {
					mother = { trait = agile }
				}
				random = { #
					chance = 50
					add_trait = agile
				}
			}
			if = {
				limit = {
					mother = { trait = perceptive }
				}
				random = { #
					chance = 50
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					mother = { trait = melodious_voice }
				}
				random = { #
					chance = 50
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					mother = { trait = calm_voice }
				}
				random = { # - normally 25% but bring in line with the rest of the voices
					chance = 50
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					mother = { trait = powerful_voice }
				}
				random = { #
					chance = 50
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					mother = { trait = ambidextrous }
				}
				random = { 
					chance = 50
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					mother = { trait = lefthanded }
				}
				random = { 
					chance = 50
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					mother = { trait = wrymouth }
				}
				random = { #
					chance = 50
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					mother = { trait = deaf }
				}
				random = { #Base 10%
					chance = 50
					add_trait = deaf
				}
			}
			if = {
				limit = {
					mother = { trait = absentminded }
				}
				random = { #
					chance = 50
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					mother = { trait = fertile }
				}
				random = { #
					chance = 50
					add_trait = fertile
				}
			}
			if = {
				limit = {
					mother = { trait = imposing }
				}
				random = { #
					chance = 50
					add_trait = imposing
				}
			}
			#Father rolls
			if = {
				limit = {
					father = { trait = clubfooted }
				}
				random = { 
					chance = 50
					add_trait = clubfooted
				}
			}
			if = {
				limit = {
					father = { trait = harelip }
				}
				random = { 
					chance = 50
					add_trait = harelip
				}
			}
			if = {
				limit = {
					father = { trait = hunchback }
				}
				random = { 
					chance = 50
					add_trait = hunchback
				}
			}
			if = {
				limit = {
					father = { trait = lisp }
				}
				random = { 
					chance = 50
					add_trait = lisp
				}
			}
			if = {
				limit = {
					father = { trait = stutter }
				}
				random = { 
					chance = 50
					add_trait = stutter
				}
			}
			if = {
				limit = {
					father = { trait = fair }
				}
				random = { 
					chance = 50
					add_trait = fair
				}
			}
			if = {
				limit = {
					father = { trait = ugly }
				}
				random = { #Base 10%, but we'll treat it as 15% to be fair
					chance = 50
					add_trait = ugly
				}
			}
			if = {
				limit = {
					father = { trait = dwarf }
				}
				random = { #
					chance = 50
					add_trait = dwarf
				}
			}
			if = {
				limit = {
					father = { trait = genius }
				}
				random = { 
					chance = 50
					add_trait = genius
				}
			}
			if = {
				limit = {
					father = { trait = quick }
				}
				random = { 
					chance = 50
					add_trait = quick
				}
			}
			if = {
				limit = {
					father = { trait = slow }
				}
				random = { 
					chance = 50
					add_trait = slow
				}
			}
			if = {
				limit = {
					father = { trait = imbecile }
				}
				random = { 
					chance = 50
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = strong }
				}
				random = { 
					chance = 50
					add_trait = imbecile
				}
			}
			if = {
				limit = {
					father = { trait = weak }
				}
				random = { 
					chance = 50
					add_trait = imbecile
				}
			}
			#HIP#
			if = {
				limit = {
					father = { trait = tall }
				}
				random = { #Base 35% - More modest 20% instead to fit in line with vanilla scaling
					chance = 50
					add_trait = tall
				}
			}
			if = {
				limit = {
					father = { trait = agile }
				}
				random = { #
					chance = 50
					add_trait = agile
				}
			}
			if = {
				limit = {
					father = { trait = perceptive }
				}
				random = { #
					chance = 50
					add_trait = perceptive
				}
			}
			if = {
				limit = {
					father = { trait = melodious_voice }
				}
				random = { #
					chance = 50
					add_trait = melodious_voice
				}
			}
			if = {
				limit = {
					father = { trait = calm_voice }
				}
				random = { # - normally 25% but bring in line with the rest of the voices
					chance = 50
					add_trait = calm_voice
				}
			}
			if = {
				limit = {
					father = { trait = powerful_voice }
				}
				random = { #
					chance = 50
					add_trait = powerful_voice
				}
			}
			if = {
				limit = {
					father = { trait = ambidextrous }
				}
				random = { 
					chance = 50
					add_trait = ambidextrous
				}
			}
			if = {
				limit = {
					father = { trait = lefthanded }
				}
				random = { 
					chance = 50
					add_trait = lefthanded
				}
			}
			if = {
				limit = {
					father = { trait = wrymouth }
				}
				random = { #
					chance = 50
					add_trait = wrymouth
				}
			}
			if = {
				limit = {
					father = { trait = deaf }
				}
				random = { #Base 10%
					chance = 50
					add_trait = deaf
				}
			}
			if = {
				limit = {
					father = { trait = absentminded }
				}
				random = { #
					chance = 50
					add_trait = absentminded
				}
			}
			if = {
				limit = {
					father = { trait = fertile }
				}
				random = { #
					chance = 50
					add_trait = fertile
				}
			}
			if = {
				limit = {
					father = { trait = imposing }
				}
				random = { #
					chance = 50
					add_trait = imposing
				}
			}
			break = yes
		}
	}
}
